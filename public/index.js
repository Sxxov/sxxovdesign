function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e){return 0===Object.keys(e).length}function c(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(e,t,n){e.$$.on_destroy.push(c(t,n))}function d(e,t,n,r){if(e){const i=p(e,t,n,r);return e[0](i)}}function p(e,t,r,i){return e[1]&&i?n(r.ctx.slice(),e[1](i(t))):r.ctx}function f(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function h(e,t,n,r,i,o,s){const a=f(t,r,i,o);if(a){const i=p(t,n,r,s);e.p(i,a)}}function g(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function m(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}const v="undefined"!=typeof window;let y=v?()=>window.performance.now():()=>Date.now(),x=v?e=>requestAnimationFrame(e):e;const b=new Set;function w(e){b.forEach((t=>{t.c(e)||(b.delete(t),t.f())})),0!==b.size&&x(w)}function S(e){let t;return 0===b.size&&x(w),{promise:new Promise((n=>{b.add(t={c:e,f:n})})),abort(){b.delete(t)}}}function $(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode.removeChild(e)}function _(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function P(e){return document.createElement(e)}function k(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function O(e){return document.createTextNode(e)}function M(){return O(" ")}function E(){return O("")}function I(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function T(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function B(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function R(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function L(e,t,n){e.classList[n?"add":"remove"](t)}function N(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const j=new Set;let W,U=0;function F(e,t,n,r,i,o,s,a=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*o(e);c+=100*e+`%{${s(r,1-r)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,p=e.ownerDocument;j.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(P("style")).sheet),h=p.__svelte_rules||(p.__svelte_rules={});h[d]||(h[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${i}ms 1 both`,U+=1,d}function V(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),U-=i,U||x((()=>{U||(j.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),j.clear())})))}function D(e){W=e}function q(){if(!W)throw new Error("Function called outside component initialization");return W}function z(e){q().$$.on_mount.push(e)}function H(e){q().$$.on_destroy.push(e)}function G(){const e=q();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=N(t,n);r.slice().forEach((t=>{t.call(e,i)}))}}}function X(e,t){q().$$.context.set(e,t)}function Y(e){return q().$$.context.get(e)}const Q=[],J=[],Z=[],K=[],ee=Promise.resolve();let te=!1;function ne(){te||(te=!0,ee.then(se))}function re(e){Z.push(e)}let ie=!1;const oe=new Set;function se(){if(!ie){ie=!0;do{for(let e=0;e<Q.length;e+=1){const t=Q[e];D(t),ae(t.$$)}for(D(null),Q.length=0;J.length;)J.pop()();for(let e=0;e<Z.length;e+=1){const t=Z[e];oe.has(t)||(oe.add(t),t())}Z.length=0}while(Q.length);for(;K.length;)K.pop()();te=!1,ie=!1,oe.clear()}}function ae(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}let le;function ce(){return le||(le=Promise.resolve(),le.then((()=>{le=null}))),le}function ue(e,t,n){e.dispatchEvent(N(`${t?"intro":"outro"}${n}`))}const de=new Set;let pe;function fe(){pe={r:0,c:[],p:pe}}function he(){pe.r||o(pe.c),pe=pe.p}function ge(e,t){e&&e.i&&(de.delete(e),e.i(t))}function me(e,t,n,r){if(e&&e.o){if(de.has(e))return;de.add(e),pe.c.push((()=>{de.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const ve={duration:0};const ye="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function xe(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)i[e]||(n[e]=a[e],i[e]=1);e[o]=a}else for(const e in s)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function be(e){return"object"==typeof e&&null!==e?e:{}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let we;function Se(e){e&&e.c()}function $e(e,t,n,i){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=e.$$;a&&a.m(t,n),i||re((()=>{const t=l.map(r).filter(s);c?c.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(re)}function Ce(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ae(t,n,r,s,a,l,c=[-1]){const u=W;D(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:c,skip_bound:!1};let p=!1;if(d.ctx=r?r(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(Q.push(e),ne(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(A)}else d.fragment&&d.fragment.c();n.intro&&ge(t.$$.fragment),$e(t,n.target,n.anchor,n.customElement),se()}D(u)}"function"==typeof HTMLElement&&(we=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(r).filter(s);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){Ce(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!l(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class SvelteComponent{$destroy(){Ce(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!l(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _e=[];function Pe(t,n=e){let r;const i=[];function o(e){if(a(t,e)&&(t=e,r)){const e=!_e.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),_e.push(n,t)}if(e){for(let e=0;e<_e.length;e+=2)_e[e][0](_e[e+1]);_e.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const l=[s,a];return i.push(l),1===i.length&&(r=n(o)||e),s(t),()=>{const e=i.indexOf(l);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}function ke(t,n,r){const i=!Array.isArray(t),a=i?[t]:t,l=n.length<2;return{subscribe:Pe(r,(t=>{let r=!1;const u=[];let d=0,p=e;const f=()=>{if(d)return;p();const r=n(i?u[0]:u,t);l?t(r):p=s(r)?r:e},h=a.map(((e,t)=>c(e,(e=>{u[t]=e,d&=~(1<<t),r&&f()}),(()=>{d|=1<<t}))));return r=!0,f(),function(){o(h),p()}})).subscribe}}const Oe={},Me={};function Ee(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const Ie=function(e,t){const n=[];let r=Ee(e);return{get location(){return r},listen(t){n.push(t);const i=()=>{r=Ee(e),t({location:r,action:"POP"})};return e.addEventListener("popstate",i),()=>{e.removeEventListener("popstate",i);const r=n.indexOf(t);n.splice(r,1)}},navigate(t,{state:i,replace:o=!1}={}){i={...i,key:Date.now()+""};try{o?e.history.replaceState(i,null,t):e.history.pushState(i,null,t)}catch(n){e.location[o?"replace":"assign"](t)}r=Ee(e),n.forEach((e=>e({location:r,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const n=[{pathname:e,search:""}],r=[];return{get location(){return n[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return n},get index(){return t},get state(){return r[t]},pushState(e,i,o){const[s,a=""]=o.split("?");t++,n.push({pathname:s,search:a}),r.push(e)},replaceState(e,i,o){const[s,a=""]=o.split("?");n[t]={pathname:s,search:a},r[t]=e}}}}()),{navigate:Te}=Ie,Be=/^:(.+)/;function Re(e){return"*"===e[0]}function Le(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Ne(e){return e.replace(/(^\/+|\/+$)/g,"")}function je(e,t){return{route:e,score:e.default?0:Le(e.path).reduce(((e,t)=>(e+=4,!function(e){return""===e}(t)?!function(e){return Be.test(e)}(t)?Re(t)?e-=5:e+=3:e+=2:e+=1,e)),0),index:t}}function We(e,t){let n,r;const[i]=t.split("?"),o=Le(i),s=""===o[0],a=function(e){return e.map(je).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index))}(e);for(let e=0,i=a.length;e<i;e++){const i=a[e].route;let l=!1;if(i.default){r={route:i,params:{},uri:t};continue}const c=Le(i.path),u={},d=Math.max(o.length,c.length);let p=0;for(;p<d;p++){const e=c[p],t=o[p];if(void 0!==e&&Re(e)){u["*"===e?"*":e.slice(1)]=o.slice(p).map(decodeURIComponent).join("/");break}if(void 0===t){l=!0;break}let n=Be.exec(e);if(n&&!s){const e=decodeURIComponent(t);u[n[1]]=e}else if(e!==t){l=!0;break}}if(!l){n={route:i,params:u,uri:"/"+o.slice(0,p).join("/")};break}}return n||r||null}function Ue(e,t){return`${Ne("/"===t?e:`${Ne(e)}/${Ne(t)}`)}/`}function Fe(e){let t;const n=e[9].default,r=d(n,e,e[8],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[t]){r&&r.p&&256&t&&h(r,n,e,e[8],t,null,null)},i(e){t||(ge(r,e),t=!0)},o(e){me(r,e),t=!1},d(e){r&&r.d(e)}}}function Ve(e,t,n){let r,i,o,{$$slots:s={},$$scope:a}=t,{basepath:l="/"}=t,{url:c=null}=t;const d=Y(Oe),p=Y(Me),f=Pe([]);u(e,f,(e=>n(7,o=e)));const h=Pe(null);let g=!1;const m=d||Pe(c?{pathname:c}:Ie.location);u(e,m,(e=>n(6,i=e)));const v=p?p.routerBase:Pe({path:l,uri:l});u(e,v,(e=>n(5,r=e)));const y=ke([v,h],(([e,t])=>{if(null===t)return e;const{path:n}=e,{route:r,uri:i}=t;return{path:r.default?n:r.path.replace(/\*.*$/,""),uri:i}}));return d||(z((()=>Ie.listen((e=>{m.set(e.location)})))),X(Oe,m)),X(Me,{activeRoute:h,base:v,routerBase:y,registerRoute:function(e){const{path:t}=r;let{path:n}=e;if(e._path=n,e.path=Ue(t,n),"undefined"==typeof window){if(g)return;const t=function(e,t){return We([e],t)}(e,i.pathname);t&&(h.set(t),g=!0)}else f.update((t=>(t.push(e),t)))},unregisterRoute:function(e){f.update((t=>{const n=t.indexOf(e);return t.splice(n,1),t}))}}),e.$$set=e=>{"basepath"in e&&n(3,l=e.basepath),"url"in e&&n(4,c=e.url),"$$scope"in e&&n(8,a=e.$$scope)},e.$$.update=()=>{if(32&e.$$.dirty){const{path:e}=r;f.update((t=>(t.forEach((t=>t.path=Ue(e,t._path))),t)))}if(192&e.$$.dirty){const e=We(o,i.pathname);h.set(e)}},[f,m,v,l,c,r,i,o,a,s]}class Router extends SvelteComponent{constructor(e){super(),Ae(this,e,Ve,Fe,a,{basepath:3,url:4})}get basepath(){return this.$$.ctx[3]}set basepath(e){this.$set({basepath:e}),se()}get url(){return this.$$.ctx[4]}set url(e){this.$set({url:e}),se()}}const De=e=>({params:4&e,location:16&e}),qe=e=>({params:e[2],location:e[4]});function ze(e){let t,n,r,i;const o=[Ge,He],s=[];function a(e,t){return null!==e[0]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=E()},m(e,n){s[t].m(e,n),C(e,r,n),i=!0},p(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):(fe(),me(s[l],1,1,(()=>{s[l]=null})),he(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),ge(n,1),n.m(r.parentNode,r))},i(e){i||(ge(n),i=!0)},o(e){me(n),i=!1},d(e){s[t].d(e),e&&A(r)}}}function He(e){let t;const n=e[10].default,r=d(n,e,e[9],qe);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&532&t&&h(r,n,e,e[9],t,De,qe)},i(e){t||(ge(r,e),t=!0)},o(e){me(r,e),t=!1},d(e){r&&r.d(e)}}}function Ge(e){let t,r,i;const o=[{location:e[4]},e[2],e[3]];var s=e[0];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return s&&(t=new s(a())),{c(){t&&Se(t.$$.fragment),r=E()},m(e,n){t&&$e(t,e,n),C(e,r,n),i=!0},p(e,n){const i=28&n?xe(o,[16&n&&{location:e[4]},4&n&&be(e[2]),8&n&&be(e[3])]):{};if(s!==(s=e[0])){if(t){fe();const e=t;me(e.$$.fragment,1,0,(()=>{Ce(e,1)})),he()}s?(t=new s(a()),Se(t.$$.fragment),ge(t.$$.fragment,1),$e(t,r.parentNode,r)):t=null}else s&&t.$set(i)},i(e){i||(t&&ge(t.$$.fragment,e),i=!0)},o(e){t&&me(t.$$.fragment,e),i=!1},d(e){e&&A(r),t&&Ce(t,e)}}}function Xe(e){let t,n,r=null!==e[1]&&e[1].route===e[7]&&ze(e);return{c(){r&&r.c(),t=E()},m(e,i){r&&r.m(e,i),C(e,t,i),n=!0},p(e,[n]){null!==e[1]&&e[1].route===e[7]?r?(r.p(e,n),2&n&&ge(r,1)):(r=ze(e),r.c(),ge(r,1),r.m(t.parentNode,t)):r&&(fe(),me(r,1,1,(()=>{r=null})),he())},i(e){n||(ge(r),n=!0)},o(e){me(r),n=!1},d(e){r&&r.d(e),e&&A(t)}}}function Ye(e,t,r){let i,o,{$$slots:s={},$$scope:a}=t,{path:l=""}=t,{component:c=null}=t;const{registerRoute:d,unregisterRoute:p,activeRoute:f}=Y(Me);u(e,f,(e=>r(1,i=e)));const h=Y(Oe);u(e,h,(e=>r(4,o=e)));const m={path:l,default:""===l};let v={},y={};return d(m),"undefined"!=typeof window&&H((()=>{p(m)})),e.$$set=e=>{r(13,t=n(n({},t),g(e))),"path"in e&&r(8,l=e.path),"component"in e&&r(0,c=e.component),"$$scope"in e&&r(9,a=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&i&&i.route===m&&r(2,v=i.params);{const{path:e,component:n,...i}=t;r(3,y=i)}},t=g(t),[c,i,v,y,o,f,h,m,l,a,s]}class Route extends SvelteComponent{constructor(e){super(),Ae(this,e,Ye,Xe,a,{path:8,component:0})}get path(){return this.$$.ctx[8]}set path(e){this.$set({path:e}),se()}get component(){return this.$$.ctx[0]}set component(e){this.$set({component:e}),se()}}var Qe={common:{info:{YES:"Yes",NO:"No",OK:"Ok",CONFIRM:"Confirm",CONTINUE:"Continue",CANCEL:"Cancel",EXIT:"Exit",EATEN_COOKIES:"burp!",general:{NAME:""}},warn:{},errors:{NO_MESSAGE_PROVIDED:"No message provided",INCORRECT_ARGUMENT:"Incorrect argument(s) provided",INCORRECT_USAGE:"Incorrect usage of item",IO:"Something went wrong while trying to write or read a file",JSON_PARSE:"Something went wrong while trying to parse JSON data",PUBLISH:"Something went wrong while trying to publish to Instagram",NETWORK:"Something went wrong while trying to make a network request",TIME:"Time makes no sense",UNSUPPORTED_OPERATION:"Unsupported operation",INCOMPATIBLE:"Environment is incompatible",UNEXPECTED_VALUE:"An unexpected value was encountered",UNREACHABLE:"Somehow, you're in an unreachable part of code"},ask:{},routes:{info:{HOME:"Home"},warn:{},error:{},ask:{}}},core:{common:{info:{},warn:{},error:{},ask:{}},renderottie:{info:{FILE_PREFIX:"The hard work of renderer #"},warn:{},error:{},ask:{}}},ui:{common:{info:{},warn:{NO_CALLBACK:"No callback prop provided",GENERIC:"This is awkward... If you see this, something very wrong has probably happened"},error:{},ask:{}},scenes:{common:{info:{},warn:{EMPTY_SCENE:"This is awkward... There's nothing here"},error:{},ask:{}}}},__boiler:{info:{},warn:{},error:{},ask:{}}},Je=(()=>{switch(globalThis?.navigator?.language?.substr(0,2)){case"en":default:return Qe}})();class ClientError extends Error{constructor(e=Je.common.errors.NO_MESSAGE_PROVIDED){super(e),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class UnexpectedValueError extends ClientError{constructor(e){super(`${Je.common.errors.UNEXPECTED_VALUE}${e?`: ${e}`:""}`)}}class Shadow{static apply(e,t){if(null==t)throw new UnexpectedValueError("node is nullish");const n=this.get(e);t.style.setProperty("--shadow",n.active),t.style.setProperty("--shadow-inactive",n.inactive)}static get(e){const t=e>0,n=t?"--box-shadow-drop":"--box-shadow-inner",r=getComputedStyle(document.documentElement).getPropertyValue(n).trim(),i=r.includes("rgba(")||r.includes("hsla(")?r.replace(/\)\s*,/g,")__delim__").split("__delim__"):r.split(","),o=20*Math.abs(e),s=o/3,a=s,l=-s,c=l,u=i.map((t=>{const n=t.trim().indexOf("rgba("),r=t.trim().indexOf("hsla("),i=t.trim().substr(n<0?r:n),o=Number.parseFloat(i.substring(i.lastIndexOf(",")+1,i.lastIndexOf(")")).trim())*(Math.abs(e)/3);return`${i.substr(0,i.lastIndexOf(",")+1)} ${o})`})),d=this.getParts(s,a,o,u[0]),p=this.getParts(0,0,0,u[0]),f=this.getParts(l,c,o,u[1]),h=this.getParts(0,0,0,u[1]);return{active:this.getProcessedBoxShadow(t,d,f),inactive:this.getProcessedBoxShadow(t,p,h)}}static getParts(e,t,n,r){return[`${e}px`,`${t}px`,`${n}px`,r]}static getProcessedBoxShadow(e,t,n){return`${e?"":"inset"} ${t.join(" ")}, ${e?"":"inset"} ${n.join(" ")}`}}function Ze(e){return 0===e?e:Math.pow(2,10*(e-1))}function Ke(e){return 1===e?e:1-Math.pow(2,-10*e)}function et(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}function tt(e){return e*e*e*e*e}function nt(e){return--e*e*e*e*e+1}function rt(e){return"[object Date]"===Object.prototype.toString.call(e)}function it(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>it(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(rt(e)&&rt(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach((n=>{r[n]=it(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=r[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function ot(e,r={}){const i=Pe(e);let o,s=e;function a(a,l){if(null==e)return i.set(e=a),Promise.resolve();s=a;let c=o,u=!1,{delay:d=0,duration:p=400,easing:f=t,interpolate:h=it}=n(n({},r),l);if(0===p)return c&&(c.abort(),c=null),i.set(e=s),Promise.resolve();const g=y()+d;let m;return o=S((t=>{if(t<g)return!0;u||(m=h(e,a),"function"==typeof p&&(p=p(e,a)),u=!0),c&&(c.abort(),c=null);const n=t-g;return n>p?(i.set(e=a),!1):(i.set(e=m(f(n/p))),!0)})),o.promise}return{set:a,update:(t,n)=>a(t(s,e),n),subscribe:i.subscribe}}class IncorrectUsageError extends ClientError{constructor(e){super(`${Je.common.errors.INCORRECT_USAGE}${e?`: ${e}`:""}`)}}class $Factory{static create(e={}){(class ForUtility{static addToArrayPrototype(){if(Array.prototype.__forUtilitySingletonExecuted)return;const e={fastEach(e,t){const n=this;if(null!=t)for(let r=0,i=n.length;r<i;++r)e.call(t||this,n[r],r);else for(let t=0,r=n.length;t<r;++t)e(n[t],t)},async forAwait(e,t=null){const n=this;for(let r=0,i=n.length;r<i;++r)await e.call(t||this,n[r],r)},getAll(e,t=null){const n=this,r=[];for(let i=0,o=n.length;i<o;++i)e.call(t||this,n[i],i)&&r.push(n[i]);return r},getSome(e,t=null){const n=this;for(let r=0,i=n.length;r<i;++r)if(e.call(t||this,n[r],r))return n[r];return null}};Object.keys(e).forEach((t=>{Array.prototype[t]=e[t]})),Array.prototype.__forUtilitySingletonExecuted=!0}}).addToArrayPrototype();const t={addClass(e){switch(e.constructor){case String:e.split(" ").fastEach((e=>{this.classList.add(e)}));break;case Array:e.fastEach((e=>{this.addClass(e)}))}return this},removeClass(e){switch(e.constructor){case String:e.split(" ").fastEach((e=>{this.classList.remove(e)}));break;case Array:e.fastEach((e=>{this.removeClass(e)}))}return this},toggleClass(e){switch(e.constructor){case String:e.split(" ").fastEach((e=>{this.classList.toggle(e)}));break;case Array:e.fastEach((e=>{this.toggleClass(e)}))}return this},css(e,t,n={}){if(t&&t.constructor===Object)return this.css(e,void 0,t);let r,i,o=!1,s=!1;const a=["opacity","gridRowStart","gridRowEnd","columns","columnCount"],l=[{name:"transition",hasParentheses:!1},{name:"transform",hasParentheses:!0}];switch(e.constructor){case String:if(l.fastEach((({name:t,hasParentheses:n})=>{t===e&&(s=!0,o=n)})),void 0===t)return r=this.style[e],n.computed&&(r=function(e){if(!e.includes("px"))return e;return e.replace(/px/g,"")}(getComputedStyle(this)[e])),s&&n.returnAsObject&&(r=u(r,o)),r;if(r=t,a.includes(e)||(r=function(e){if(null==e)return e;if("number"==typeof e||!Number.isNaN(Number(e)))return`${e}px`;return e}(t)),s){const t=u(this.style[e],o),n=u(r,o),i=t;Object.assign(i,n),r=function(e,t){let n,r;t?(n=Object.keys(e).map((t=>`${t}(${e[t]})`)),r=n.join("")):(n=Object.keys(e).map((t=>`${t}${e[t]}`)),r=n.join(","));return r}(i,o)}return this.style[e]=r,this;case Array:return void 0===t?(i={},e.fastEach((e=>{i[e]=this.css(e)})),i):(e.fastEach(((e,n)=>{this.css(e,t[n])})),this);case Object:return i={},Object.keys(e).fastEach((t=>{const n=this.css(t,e[t]);n!==this&&(i[t]=n)})),0===Object.keys(i).length?this:i;default:return this.style}function c(e){return e.toLowerCase().replace(/\s/g,"")}function u(e,t){let n,r,i;t?(n=c(e).split(")"),r=n.map((e=>e.substr(0,e.indexOf("(")).trim())),i=n.map((e=>e.substr(e.indexOf("(")+1)))):(n=c(e).split(","),r=n.map((e=>e.substring(0,e.search(/[^a-zA-Z]/)))),i=n.map((e=>e.substr(e.search(/[^a-zA-Z]/)))));const o={};return r.fastEach(((e,t)=>{e&&(o[e]=i[t])})),o}},on(e,...t){const n=e.split(" ");let r,i,o={};return t.fastEach((e=>{switch(e.constructor){case String:null==r&&(r=e);break;case Function:null==i&&(i=e);break;case Object:0===Object.keys(o).length&&(o=e)}})),n.fastEach((e=>{this.addEventListener(e,(e=>{const t=e;if(!e)return i(e);const{target:n}=t;return n&&(null===r||n.matches?.(r))?i.call(n,t):null}),o)})),this},off(e,...t){const n=e.split(" ");let r,i;return t.fastEach(((e,n)=>{switch(e.constructor){case String:if(null!=r)break;r=e;break;case Function:if(n!==t.length-1)break;i=e}})),n.fastEach((e=>{this.removeEventListener(e,(e=>{const t=e;if(!e)return i(e);const{target:n}=t;return n&&(null===r||n.matches?.(r))?i.call(n,t):null}))})),this},async getJSON(e,t){const n=await fetch(e);return t?t(await n.json()):n.json()},$:st,$$:at};return Object.assign(e,t),e}}const{$:st,$$:at}=new class NotJQuery{$(e={}){switch(!0){case this&&this.constructor===Object&&e.constructor===String:return $Factory.create(Object.values(this).find((t=>t.matches?.(e))));case void 0===e:return $Factory.create({});case null===e:throw new Error("Cannot create from null!");case e.constructor===String:{const t=document.querySelector(e);return t&&$Factory.create(t)}default:return $Factory.create(e)}}$$(e={}){switch(!0){case this&&this.constructor===Object&&e.constructor===String:return Object.values(this).getAll((t=>t.matches?.(e))).map((e=>$Factory.create(e)));case void 0===e:return[$Factory.create({})];case null===e:throw new Error("Cannot create from null!");case e.constructor===String:return Array.from(document.querySelectorAll(e)).map((e=>$Factory.create(e)));default:return[$Factory.create(e)]}}};class WindowUtility{static invalidateCache(){this.cache={}}static refresh(){this.invalidateCache(),this.cache={inner:this.inner,viewport:this.viewport,client:this.client,isMobile:this.isMobile}}static vh(e){return this.viewport.height/100*e}static vw(e){return this.viewport.width/100*e}static px(e){return e*window.devicePixelRatio}static get client(){return this.cache?.client?.height||this.cache?.client?.width?this.cache.client:{height:document.documentElement.clientHeight,width:document.documentElement.clientWidth}}static get inner(){return this.cache?.inner?.height||this.cache?.inner?.width?this.cache.inner:{height:window.innerHeight,width:window.innerWidth}}static get viewport(){if(this.cache?.viewport?.height||this.cache?.viewport?.width)return this.cache.viewport;const e=st(document.createElement("div"));e.css({height:"100vh",width:"100vw",visibility:"hidden"}),document.body.appendChild(e);const t=e.offsetHeight,n=e.offsetWidth;return document.body.removeChild(e),{height:t,width:n}}static get isMobile(){if(this.cache?.isMobile)return this.cache.isMobile;const e=window.matchMedia("(pointer: coarse)").matches||window.matchMedia("(pointer: cnone)").matches;return this.cache.isMobile=e,e}}Object.defineProperty(WindowUtility,"cache",{enumerable:!0,configurable:!0,writable:!0,value:{}}),typeof window!==String(void 0)&&st(window).on("resize",(()=>{WindowUtility.refresh()}));class CSSUtility{static parse(e){switch(!0){case null==e:return"0px";case"-"===e[0]&&"-"===e[1]:return`var(${e})`;case this.isNumber(e):return`${e}px`;default:return e}}static unparse(e,t){switch(!0){case null==e:return 0;case this.isNumber(e):return Number(e);case"%"===e[e.length-1]:return this.assertCtx(t),t.clientWidth*(Number.parseFloat(e)/100);case this.isSingularValue(e,"px"):return Number.parseFloat(e);case this.isSingularValue(e,"vh"):return WindowUtility.viewport.height;case this.isSingularValue(e,"vw"):return WindowUtility.viewport.width;case this.isSingularValue(e,"vmax"):return Math.max(WindowUtility.viewport.height,WindowUtility.viewport.width);case this.isSingularValue(e,"vmin"):return Math.min(WindowUtility.viewport.height,WindowUtility.viewport.width);case 0===e.indexOf("var(--"):return this.assertCtx(t),Number(this.getVariable(e,t));default:return this.assertCtx(t),this.getComputed(e,t)}}static getVariable(e,t=document.documentElement){return getComputedStyle(t).getPropertyValue(e.replace(/^var\(/,"").replace(/\)$/,"")).trim()}static isSingularValue(e,t){return this.isNumber(e.replace(t,""))}static getComputed(e,t){t.style.x=e;const n=Number.parseFloat(getComputedStyle(t).x);if(t.style.x=null,Number.isNaN(n))throw new UnexpectedValueError("result === NaN");return n}static assertCtx(e){if(null==e)throw new IncorrectUsageError(`ctx === ${e}`)}static isNumber(e){return!Number.isNaN(Number(e))}}function lt(t){let n;return{c(){n=k("circle"),R(n,"fill",CSSUtility.parse(t[2])),T(n,"cx",t[0]),T(n,"cy",t[1]),T(n,"r",t[3]),T(n,"opacity",t[4])},m(e,t){C(e,n,t)},p(e,[t]){4&t&&R(n,"fill",CSSUtility.parse(e[2])),1&t&&T(n,"cx",e[0]),2&t&&T(n,"cy",e[1]),8&t&&T(n,"r",e[3]),16&t&&T(n,"opacity",e[4])},i:e,o:e,d(e){e&&A(n)}}}function ct(e,t,n){let r,i,{x:o}=t,{y:s}=t,{sizeIn:a}=t,{size:l}=t,{speed:c}=t,{opacityIn:d}=t,{fill:p}=t;const f=ot(a,{duration:c});u(e,f,(e=>n(3,r=e)));const h=ot(d,{duration:c+2.5*c,easing:Ke});return u(e,h,(e=>n(4,i=e))),z((()=>{f.set(l),h.set(0)})),e.$$set=e=>{"x"in e&&n(0,o=e.x),"y"in e&&n(1,s=e.y),"sizeIn"in e&&n(7,a=e.sizeIn),"size"in e&&n(8,l=e.size),"speed"in e&&n(9,c=e.speed),"opacityIn"in e&&n(10,d=e.opacityIn),"fill"in e&&n(2,p=e.fill)},[o,s,p,r,i,f,h,a,l,c,d]}class Ripple extends SvelteComponent{constructor(e){super(),Ae(this,e,ct,lt,a,{x:0,y:1,sizeIn:7,size:8,speed:9,opacityIn:10,fill:2})}get x(){return this.$$.ctx[0]}set x(e){this.$set({x:e}),se()}get y(){return this.$$.ctx[1]}set y(e){this.$set({y:e}),se()}get sizeIn(){return this.$$.ctx[7]}set sizeIn(e){this.$set({sizeIn:e}),se()}get size(){return this.$$.ctx[8]}set size(e){this.$set({size:e}),se()}get speed(){return this.$$.ctx[9]}set speed(e){this.$set({speed:e}),se()}get opacityIn(){return this.$$.ctx[10]}set opacityIn(e){this.$set({opacityIn:e}),se()}get fill(){return this.$$.ctx[2]}set fill(e){this.$set({fill:e}),se()}}const{Boolean:ut}=ye;function dt(e,t,n){const r=e.slice();return r[64]=t[n],r}const pt=e=>({}),ft=e=>({}),ht=e=>({}),gt=e=>({});function mt(e){let t;const n=e[46].default,r=d(n,e,e[45],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&16384&t[1]&&h(r,n,e,e[45],t,null,null)},i(e){t||(ge(r,e),t=!0)},o(e){me(r,e),t=!1},d(e){r&&r.d(e)}}}function vt(e){let t,n,r,i;const o=e[46].icon,s=d(o,e,e[45],ft),a=s||function(e){let t,n=(e[4]??"")+"";return{c(){t=O(n)},m(e,n){C(e,t,n)},p(e,r){16&r[0]&&n!==(n=(e[4]??"")+"")&&B(t,n)},d(e){e&&A(t)}}}(e),l=e[46].default,c=d(l,e,e[45],null);return{c(){t=P("icon"),a&&a.c(),n=M(),r=P("string"),c&&c.c(),T(t,"class","svelte-1c5dcdf"),T(r,"class","svelte-1c5dcdf")},m(e,o){C(e,t,o),a&&a.m(t,null),C(e,n,o),C(e,r,o),c&&c.m(r,null),i=!0},p(e,t){s?s.p&&16384&t[1]&&h(s,o,e,e[45],t,pt,ft):a&&a.p&&16&t[0]&&a.p(e,t),c&&c.p&&16384&t[1]&&h(c,l,e,e[45],t,null,null)},i(e){i||(ge(a,e),ge(c,e),i=!0)},o(e){me(a,e),me(c,e),i=!1},d(e){e&&A(t),a&&a.d(e),e&&A(n),e&&A(r),c&&c.d(e)}}}function yt(e){let t,n;return t=new Ripple({props:{x:e[64].x,y:e[64].y,size:e[64].size,speed:bt,sizeIn:wt,opacityIn:St,fill:e[2]}}),{c(){Se(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};1&n[1]&&(r.x=e[64].x),1&n[1]&&(r.y=e[64].y),1&n[1]&&(r.size=e[64].size),4&n[0]&&(r.fill=e[2]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function xt(e){let t,n,r,i,s,a,l,c,u,p,f,g;const m=e[46].background,v=d(m,e,e[45],gt),y=[vt,mt],x=[];function b(e,t){return e[9]?0:1}a=b(e),l=x[a]=y[a](e);let w=e[31],S=[];for(let t=0;t<w.length;t+=1)S[t]=yt(dt(e,w,t));const O=e=>me(S[e],1,1,(()=>{S[e]=null}));return{c(){t=P("component"),n=P("container"),v&&v.c(),r=M(),i=P("button"),s=P("span"),l.c(),c=M(),u=k("svg");for(let e=0;e<S.length;e+=1)S[e].c();T(n,"class","background svelte-1c5dcdf"),T(s,"class","content svelte-1c5dcdf"),T(u,"class","svelte-1c5dcdf"),R(i,"--colour-background",CSSUtility.parse(e[0])),R(i,"--colour-hover",CSSUtility.parse(e[27]?e[1]:e[0])),R(i,"--colour-ripple",CSSUtility.parse(e[2])),R(i,"--colour-text",CSSUtility.parse(e[28]?"white":e[3])),R(i,"--button-padding",CSSUtility.parse(e[11])),R(i,"--icon-size",CSSUtility.parse(e[5])),R(i,"--text-align",e[10]),R(i,"--transition",e[27]?e[29]:"unset"),R(i,"--mix-blend-mode",e[28]?"difference":"unset"),i.disabled=e[30],T(i,"class","svelte-1c5dcdf"),L(i,"hover",e[26]),R(t,"--width",CSSUtility.parse(e[6])),R(t,"--height",CSSUtility.parse(e[8])),R(t,"--border-radius",CSSUtility.parse(e[7])),T(t,"class","svelte-1c5dcdf"),L(t,"unpressed",!e[25])},m(o,l){C(o,t,l),$(t,n),v&&v.m(n,null),$(t,r),$(t,i),$(i,s),x[a].m(s,null),$(i,c),$(i,u);for(let e=0;e<S.length;e+=1)S[e].m(u,null);e[47](i),e[57](t),p=!0,f||(g=[I(i,"click",e[48]),I(i,"focus",e[49]),I(i,"blur",e[50]),I(i,"touchstart",e[51],{passive:!0}),I(i,"mousedown",e[52]),I(i,"touchend",e[53],{passive:!0}),I(i,"mouseup",e[54]),I(i,"mouseover",e[55]),I(i,"mouseout",e[56])],f=!0)},p(e,n){v&&v.p&&16384&n[1]&&h(v,m,e,e[45],n,ht,gt);let r=a;if(a=b(e),a===r?x[a].p(e,n):(fe(),me(x[r],1,1,(()=>{x[r]=null})),he(),l=x[a],l?l.p(e,n):(l=x[a]=y[a](e),l.c()),ge(l,1),l.m(s,null)),4&n[0]|1&n[1]){let t;for(w=e[31],t=0;t<w.length;t+=1){const r=dt(e,w,t);S[t]?(S[t].p(r,n),ge(S[t],1)):(S[t]=yt(r),S[t].c(),ge(S[t],1),S[t].m(u,null))}for(fe(),t=w.length;t<S.length;t+=1)O(t);he()}(!p||1&n[0])&&R(i,"--colour-background",CSSUtility.parse(e[0])),(!p||134217731&n[0])&&R(i,"--colour-hover",CSSUtility.parse(e[27]?e[1]:e[0])),(!p||4&n[0])&&R(i,"--colour-ripple",CSSUtility.parse(e[2])),(!p||268435464&n[0])&&R(i,"--colour-text",CSSUtility.parse(e[28]?"white":e[3])),(!p||2048&n[0])&&R(i,"--button-padding",CSSUtility.parse(e[11])),(!p||32&n[0])&&R(i,"--icon-size",CSSUtility.parse(e[5])),(!p||1024&n[0])&&R(i,"--text-align",e[10]),(!p||671088640&n[0])&&R(i,"--transition",e[27]?e[29]:"unset"),(!p||268435456&n[0])&&R(i,"--mix-blend-mode",e[28]?"difference":"unset"),(!p||1073741824&n[0])&&(i.disabled=e[30]),67108864&n[0]&&L(i,"hover",e[26]),(!p||64&n[0])&&R(t,"--width",CSSUtility.parse(e[6])),(!p||256&n[0])&&R(t,"--height",CSSUtility.parse(e[8])),(!p||128&n[0])&&R(t,"--border-radius",CSSUtility.parse(e[7])),33554432&n[0]&&L(t,"unpressed",!e[25])},i(e){if(!p){ge(v,e),ge(l);for(let e=0;e<w.length;e+=1)ge(S[e]);p=!0}},o(e){me(v,e),me(l),S=S.filter(ut);for(let e=0;e<S.length;e+=1)me(S[e]);p=!1},d(n){n&&A(t),v&&v.d(n),x[a].d(),_(S,n),e[47](null),e[57](null),f=!1,o(g)}}}const bt=1e3,wt=20,St=.2;function $t(e){e.currentTarget&&e.currentTarget?.parentElement?.classList.remove("unpressed")}function Ct(t,n,r){let i,o,s,a,l,d,p,f,h,g,m,v,y=e,x=()=>(y(),y=c(H,(e=>r(25,d=e))),H),b=e,w=()=>(b(),b=c(ie,(e=>r(26,p=e))),ie),S=e,$=()=>(S(),S=c(Z,(e=>r(27,f=e))),Z),C=e,A=()=>(C(),C=c(ne,(e=>r(28,h=e))),ne),_=e,P=()=>(_(),_=c(ee,(e=>r(29,g=e))),ee),k=e,O=()=>(k(),k=c(Y,(e=>r(30,m=e))),Y);t.$$.on_destroy.push((()=>y())),t.$$.on_destroy.push((()=>b())),t.$$.on_destroy.push((()=>S())),t.$$.on_destroy.push((()=>C())),t.$$.on_destroy.push((()=>_())),t.$$.on_destroy.push((()=>k()));let{$$slots:M={},$$scope:E}=n,{backgroundColour:I="--colour-accent-primary"}=n,{hoverColour:T="--colour-accent-secondary"}=n,{rippleColour:B="white"}=n,{textColour:R="--colour-text-primary"}=n,{icon:L="done"}=n,{iconSize:N="1rem"}=n,{width:j="max-content"}=n,{roundness:W="--roundness"}=n,{height:U="max(calc(var(--border-radius) * 2), 56px)"}=n,{depth:F=1}=n,{isText:V=!0}=n,{textAlign:D="center"}=n,{padding:q="16px max(var(--border-radius), 24px)"}=n,{isFocusedW:H=Pe(!1)}=n;x();let{isDisabled:X=!1}=n,{isDisabledW:Y=Pe(X)}=n;O();let{isAnimated:Q=!0}=n,{isAnimatedW:Z=Pe(Q)}=n;$();let{transition:K="0.2s var(--ease-slow-slow)"}=n,{transitionW:ee=Pe(K)}=n;P();let{isTextInvertedAgainstBackground:te=!1}=n,{isTextInvertedAgainstBackgroundW:ne=Pe(te)}=n;A();let{isHovered:re=!1}=n,{isHoveredW:ie=Pe(re)}=n;w();const oe=G(),se=(()=>{const e=Pe([]);return{...e,add:t=>{e.update((e=>[...e,t]))},clear:()=>{e.update((()=>[]))}}})();let ae,le;u(t,se,(e=>r(31,v=e)));const ce={get width(){return Number(Boolean(le))&&le.offsetWidth},get height(){return Number(Boolean(le))&&le.offsetHeight},get x(){return Number(Boolean(le))&&le.getBoundingClientRect().x},get y(){return Number(Boolean(le))&&le.getBoundingClientRect().y}};z((()=>{Shadow.apply(-F,le),Shadow.apply(F,ae)}));const ue=50,de=50;let pe,fe=!1;function he(e,t){switch(t){case"touch":fe=!0,se.add({x:e.touches[0].pageX-ce.x,y:e.touches[0].pageY-ce.y,size:l});break;case"click":if(fe){fe=!1;break}se.add({x:e.clientX-ce.x,y:e.clientY-ce.y,size:l})}clearTimeout(pe),pe=setTimeout((()=>{se.clear()}),bt+2*bt),e.currentTarget&&e.currentTarget?.parentElement?.classList.remove("unpressed")}function ge(){ie.set(!0)}function me(){ie.set(!1)}function ve(){oe("click")}return t.$$set=e=>{"backgroundColour"in e&&r(0,I=e.backgroundColour),"hoverColour"in e&&r(1,T=e.hoverColour),"rippleColour"in e&&r(2,B=e.rippleColour),"textColour"in e&&r(3,R=e.textColour),"icon"in e&&r(4,L=e.icon),"iconSize"in e&&r(5,N=e.iconSize),"width"in e&&r(6,j=e.width),"roundness"in e&&r(7,W=e.roundness),"height"in e&&r(8,U=e.height),"depth"in e&&r(33,F=e.depth),"isText"in e&&r(9,V=e.isText),"textAlign"in e&&r(10,D=e.textAlign),"padding"in e&&r(11,q=e.padding),"isFocusedW"in e&&x(r(12,H=e.isFocusedW)),"isDisabled"in e&&r(34,X=e.isDisabled),"isDisabledW"in e&&O(r(13,Y=e.isDisabledW)),"isAnimated"in e&&r(35,Q=e.isAnimated),"isAnimatedW"in e&&$(r(14,Z=e.isAnimatedW)),"transition"in e&&r(36,K=e.transition),"transitionW"in e&&P(r(15,ee=e.transitionW)),"isTextInvertedAgainstBackground"in e&&r(37,te=e.isTextInvertedAgainstBackground),"isTextInvertedAgainstBackgroundW"in e&&A(r(16,ne=e.isTextInvertedAgainstBackgroundW)),"isHovered"in e&&r(38,re=e.isHovered),"isHoveredW"in e&&w(r(17,ie=e.isHoveredW)),"$$scope"in e&&r(45,E=e.$$scope)},t.$$.update=()=>{1024&t.$$.dirty[1]&&r(43,s=ce.width/2+i),2048&t.$$.dirty[1]&&r(44,a=ce.height/2+o),12288&t.$$.dirty[1]&&(l=Math.sqrt(s**3+a**3))},r(41,i=Math.abs(ce.width/2-ue)),r(42,o=Math.abs(ce.height/2-de)),[I,T,B,R,L,N,j,W,U,V,D,q,H,Y,Z,ee,ne,ie,he,$t,ge,me,ve,ae,le,d,p,f,h,g,m,v,se,F,X,Q,K,te,re,()=>ae,()=>le,i,o,s,a,E,M,function(e){J[e?"unshift":"push"]((()=>{le=e,r(24,le)}))},()=>{ve()},()=>{H.set(!0)},()=>{H.set(!1)},e=>{he(e,"touch")},e=>{he(e,"click")},e=>{$t(e)},e=>{$t(e)},()=>{ge()},()=>{me()},function(e){J[e?"unshift":"push"]((()=>{ae=e,r(23,ae)}))}]}class Button extends SvelteComponent{constructor(e){super(),Ae(this,e,Ct,xt,a,{backgroundColour:0,hoverColour:1,rippleColour:2,textColour:3,icon:4,iconSize:5,width:6,roundness:7,height:8,depth:33,isText:9,textAlign:10,padding:11,isFocusedW:12,isDisabled:34,isDisabledW:13,isAnimated:35,isAnimatedW:14,transition:36,transitionW:15,isTextInvertedAgainstBackground:37,isTextInvertedAgainstBackgroundW:16,isHovered:38,isHoveredW:17,getComponentDomContent:39,getButtonDomContent:40,onMouseDown:18,onMouseUp:19,onMouseOver:20,onMouseOut:21,onClick:22},[-1,-1,-1])}get backgroundColour(){return this.$$.ctx[0]}set backgroundColour(e){this.$set({backgroundColour:e}),se()}get hoverColour(){return this.$$.ctx[1]}set hoverColour(e){this.$set({hoverColour:e}),se()}get rippleColour(){return this.$$.ctx[2]}set rippleColour(e){this.$set({rippleColour:e}),se()}get textColour(){return this.$$.ctx[3]}set textColour(e){this.$set({textColour:e}),se()}get icon(){return this.$$.ctx[4]}set icon(e){this.$set({icon:e}),se()}get iconSize(){return this.$$.ctx[5]}set iconSize(e){this.$set({iconSize:e}),se()}get width(){return this.$$.ctx[6]}set width(e){this.$set({width:e}),se()}get roundness(){return this.$$.ctx[7]}set roundness(e){this.$set({roundness:e}),se()}get height(){return this.$$.ctx[8]}set height(e){this.$set({height:e}),se()}get depth(){return this.$$.ctx[33]}set depth(e){this.$set({depth:e}),se()}get isText(){return this.$$.ctx[9]}set isText(e){this.$set({isText:e}),se()}get textAlign(){return this.$$.ctx[10]}set textAlign(e){this.$set({textAlign:e}),se()}get padding(){return this.$$.ctx[11]}set padding(e){this.$set({padding:e}),se()}get isFocusedW(){return this.$$.ctx[12]}set isFocusedW(e){this.$set({isFocusedW:e}),se()}get isDisabled(){return this.$$.ctx[34]}set isDisabled(e){this.$set({isDisabled:e}),se()}get isDisabledW(){return this.$$.ctx[13]}set isDisabledW(e){this.$set({isDisabledW:e}),se()}get isAnimated(){return this.$$.ctx[35]}set isAnimated(e){this.$set({isAnimated:e}),se()}get isAnimatedW(){return this.$$.ctx[14]}set isAnimatedW(e){this.$set({isAnimatedW:e}),se()}get transition(){return this.$$.ctx[36]}set transition(e){this.$set({transition:e}),se()}get transitionW(){return this.$$.ctx[15]}set transitionW(e){this.$set({transitionW:e}),se()}get isTextInvertedAgainstBackground(){return this.$$.ctx[37]}set isTextInvertedAgainstBackground(e){this.$set({isTextInvertedAgainstBackground:e}),se()}get isTextInvertedAgainstBackgroundW(){return this.$$.ctx[16]}set isTextInvertedAgainstBackgroundW(e){this.$set({isTextInvertedAgainstBackgroundW:e}),se()}get isHovered(){return this.$$.ctx[38]}set isHovered(e){this.$set({isHovered:e}),se()}get isHoveredW(){return this.$$.ctx[17]}set isHoveredW(e){this.$set({isHoveredW:e}),se()}get getComponentDomContent(){return this.$$.ctx[39]}get getButtonDomContent(){return this.$$.ctx[40]}get onMouseDown(){return this.$$.ctx[18]}get onMouseUp(){return $t}get onMouseOver(){return this.$$.ctx[20]}get onMouseOut(){return this.$$.ctx[21]}get onClick(){return this.$$.ctx[22]}}var At,_t,Pt;function kt(e){let t,n,r=_t[e[2]]+"";return{c(){t=P("icon"),n=O(r),T(t,"class","svelte-1sqelqo")},m(e,r){C(e,t,r),$(t,n)},p(e,t){4&t&&r!==(r=_t[e[2]]+"")&&B(n,r)},d(e){e&&A(t)}}}function Ot(e){let t,n,r,i,o,s=null!=_t[e[2]]&&kt(e);const a=e[5].default,l=d(a,e,e[4],null),c=l||function(e){let t;return{c(){t=O("Hint")},m(e,n){C(e,t,n)},d(e){e&&A(t)}}}();return{c(){t=P("component"),n=P("span"),s&&s.c(),r=M(),i=P("string"),c&&c.c(),T(i,"class","text svelte-1sqelqo"),T(n,"class","content svelte-1sqelqo"),R(n,"--colour-hint",CSSUtility.parse(e[1]??Pt[e[2]]??"")+"\r\n\t\t"),L(n,"info",e[2]===At.INFO),L(n,"warn",e[2]===At.WARN),L(n,"error",e[2]===At.ERROR),L(n,"ok",e[2]===At.OK),L(n,"none",e[2]===At.NONE)},m(e,a){C(e,t,a),$(t,n),s&&s.m(n,null),$(n,r),$(n,i),c&&c.m(i,null),o=!0},p(e,[t]){null!=_t[e[2]]?s?s.p(e,t):(s=kt(e),s.c(),s.m(n,r)):s&&(s.d(1),s=null),l&&l.p&&16&t&&h(l,a,e,e[4],t,null,null),(!o||6&t)&&R(n,"--colour-hint",CSSUtility.parse(e[1]??Pt[e[2]]??"")+"\r\n\t\t"),4&t&&L(n,"info",e[2]===At.INFO),4&t&&L(n,"warn",e[2]===At.WARN),4&t&&L(n,"error",e[2]===At.ERROR),4&t&&L(n,"ok",e[2]===At.OK),4&t&&L(n,"none",e[2]===At.NONE)},i(e){o||(ge(c,e),o=!0)},o(e){me(c,e),o=!1},d(e){e&&A(t),s&&s.d(),c&&c.d(e)}}}function Mt(t,n,r){let i,o=e,s=()=>(o(),o=c(d,(e=>r(2,i=e))),d);t.$$.on_destroy.push((()=>o()));let{$$slots:a={},$$scope:l}=n,{level:u=At.INFO}=n,{levelWritable:d=Pe(u)}=n;s();let{overrideColour:p}=n;return t.$$set=e=>{"level"in e&&r(3,u=e.level),"levelWritable"in e&&s(r(0,d=e.levelWritable)),"overrideColour"in e&&r(1,p=e.overrideColour),"$$scope"in e&&r(4,l=e.$$scope)},[d,p,i,u,l,a]}!function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR",e[e.OK=3]="OK",e[e.NONE=4]="NONE"}(At||(At={})),function(e){e[e.error_outline=0]="error_outline",e[e.warning=1]="warning",e[e.error=2]="error",e[e.done=3]="done"}(_t||(_t={})),function(e){e[e["--colour-text-primary"]=0]="--colour-text-primary",e[e["--colour-warn-primary"]=1]="--colour-warn-primary",e[e["--colour-error-primary"]=2]="--colour-error-primary",e[e["--colour-ok-primary"]=3]="--colour-ok-primary"}(Pt||(Pt={}));class Hint extends SvelteComponent{constructor(e){super(),Ae(this,e,Mt,Ot,a,{level:3,levelWritable:0,overrideColour:1})}get level(){return this.$$.ctx[3]}set level(e){this.$set({level:e}),se()}get levelWritable(){return this.$$.ctx[0]}set levelWritable(e){this.$set({levelWritable:e}),se()}get overrideColour(){return this.$$.ctx[1]}set overrideColour(e){this.$set({overrideColour:e}),se()}}class Item{static from(e){const t=new this;return Object.keys(e).forEach((n=>{t[n]=e[n]})),t}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function It(e){var t={exports:{}};return e(t,t.exports),t.exports}var Tt=It((function(e,t){var n;n=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=n.concat(r,i,["args"],["evalOrigin"]);function s(t){if(t)for(var n=0;n<o.length;n++)void 0!==t[o[n]]&&this["set"+e(o[n])](t[o[n]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},s.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),i=e.substring(t+1,n).split(","),o=e.substring(n+1);if(0===o.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),l=a[1],c=a[2],u=a[3];return new s({functionName:r,args:i||void 0,fileName:l,lineNumber:c||void 0,columnNumber:u||void 0})};for(var a=0;a<n.length;a++)s.prototype["get"+e(n[a])]=t(n[a]),s.prototype["set"+e(n[a])]=function(e){return function(t){this[e]=Boolean(t)}}(n[a]);for(var l=0;l<r.length;l++)s.prototype["get"+e(r[l])]=t(r[l]),s.prototype["set"+e(r[l])]=function(e){return function(t){if(n=t,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(e+" must be a Number");var n;this[e]=Number(t)}}(r[l]);for(var c=0;c<i.length;c++)s.prototype["get"+e(i[c])]=t(i[c]),s.prototype["set"+e(i[c])]=function(e){return function(t){this[e]=String(t)}}(i[c]);return s},e.exports=n()})),Bt=It((function(e,t){var n;n=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:i.pop()),s=i.join(" ")||void 0,a=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:s,fileName:a,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),i=r&&r[1]?r[1]:void 0,o=this.extractLocation(t.replace(n,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),i=[],o=2,s=r.length;o<s;o+=2){var a=n.exec(r[o]);a&&i.push(new e({fileName:a[2],lineNumber:a[1],source:r[o]}))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),i=[],o=0,s=r.length;o<s;o+=2){var a=n.exec(r[o]);a&&i.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:r[o]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",s=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;o.match(/\(([^)]*)\)/)&&(n=o.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:s,args:a,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}},e.exports=n(Tt)})),Rt=It((function(e,t){var n;n=function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var i=arguments.callee;i&&n.length<r&&i.arguments;){for(var o=new Array(i.arguments.length),s=0;s<o.length;++s)o[s]=i.arguments[s];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:o})):n.push(new e({args:o}));try{i=i.caller}catch(e){break}}return n}}},e.exports=n(Tt)})),Lt=It((function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function i(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,r=i(e);if(r){if(!r.path)return e;n=r.path}for(var s,a=t.isAbsolute(n),l=n.split(/\/+/),c=0,u=l.length-1;u>=0;u--)"."===(s=l[u])?l.splice(u,1):".."===s?c++:c>0&&(""===s?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));return""===(n=l.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}t.urlParse=i,t.urlGenerate=o,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),a=i(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var l="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,o(a)):l},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function l(e){return e}function c(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function u(e,t){return e===t?0:e>t?1:-1}t.toSetString=a?l:function(e){return c(e)?"$"+e:e},t.fromSetString=a?l:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=e.source-t.source)||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=u(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:u(e.name,t.name)}})),Nt=It((function(e,t){function n(e,r,i,o,s,a){var l=Math.floor((r-e)/2)+e,c=s(i,o[l],!0);return 0===c?l:c>0?r-l>1?n(l,r,i,o,s,a):a==t.LEAST_UPPER_BOUND?r<o.length?r:-1:l:l-e>1?n(e,l,i,o,s,a):a==t.LEAST_UPPER_BOUND?l:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,i,o){if(0===r.length)return-1;var s=n(-1,r.length,e,r,i,o||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===i(r[s],r[s-1],!0);)--s;return s}})),jt=Object.prototype.hasOwnProperty;function Wt(){this._array=[],this._set=Object.create(null)}Wt.fromArray=function(e,t){for(var n=new Wt,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},Wt.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},Wt.prototype.add=function(e,t){var n=Lt.toSetString(e),r=jt.call(this._set,n),i=this._array.length;r&&!t||this._array.push(e),r||(this._set[n]=i)},Wt.prototype.has=function(e){var t=Lt.toSetString(e);return jt.call(this._set,t)},Wt.prototype.indexOf=function(e){var t=Lt.toSetString(e);if(jt.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},Wt.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},Wt.prototype.toArray=function(){return this._array.slice()};var Ut={ArraySet:Wt},Ft=("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1});var Vt=function(e,t,n){var r,i,o,s,a=e.length,l=0,c=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=Ft(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&i),l+=(i&=31)<<c,c+=5}while(r);n.value=(s=(o=l)>>1,1==(1&o)?-s:s),n.rest=t};function Dt(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function qt(e,t,n,r){if(n<r){var i=n-1;Dt(e,(l=n,c=r,Math.round(l+Math.random()*(c-l))),r);for(var o=e[r],s=n;s<r;s++)t(e[s],o)<=0&&Dt(e,i+=1,s);Dt(e,i+1,s);var a=i+1;qt(e,t,n,a-1),qt(e,t,a+1,r)}var l,c}var zt=Ut.ArraySet,Ht=function(e,t){qt(e,t,0,e.length-1)};function Gt(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new Zt(t):new Yt(t)}Gt.fromSourceMap=function(e){return Yt.fromSourceMap(e)},Gt.prototype._version=3,Gt.prototype.__generatedMappings=null,Object.defineProperty(Gt.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),Gt.prototype.__originalMappings=null,Object.defineProperty(Gt.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),Gt.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},Gt.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},Gt.GENERATED_ORDER=1,Gt.ORIGINAL_ORDER=2,Gt.GREATEST_LOWER_BOUND=1,Gt.LEAST_UPPER_BOUND=2,Gt.prototype.eachMapping=function(e,t,n){var r,i=t||null;switch(n||Gt.GENERATED_ORDER){case Gt.GENERATED_ORDER:r=this._generatedMappings;break;case Gt.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var o=this.sourceRoot;r.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=o&&(t=Lt.join(o,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,i)},Gt.prototype.allGeneratedPositionsFor=function(e){var t=Lt.getArg(e,"line"),n={source:Lt.getArg(e,"source"),originalLine:t,originalColumn:Lt.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=Lt.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Lt.compareByOriginalPositions,Nt.LEAST_UPPER_BOUND);if(i>=0){var o=this._originalMappings[i];if(void 0===e.column)for(var s=o.originalLine;o&&o.originalLine===s;)r.push({line:Lt.getArg(o,"generatedLine",null),column:Lt.getArg(o,"generatedColumn",null),lastColumn:Lt.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i];else for(var a=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==a;)r.push({line:Lt.getArg(o,"generatedLine",null),column:Lt.getArg(o,"generatedColumn",null),lastColumn:Lt.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i]}return r};var Xt=Gt;function Yt(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=Lt.getArg(t,"version"),r=Lt.getArg(t,"sources"),i=Lt.getArg(t,"names",[]),o=Lt.getArg(t,"sourceRoot",null),s=Lt.getArg(t,"sourcesContent",null),a=Lt.getArg(t,"mappings"),l=Lt.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(Lt.normalize).map((function(e){return o&&Lt.isAbsolute(o)&&Lt.isAbsolute(e)?Lt.relative(o,e):e})),this._names=zt.fromArray(i.map(String),!0),this._sources=zt.fromArray(r,!0),this.sourceRoot=o,this.sourcesContent=s,this._mappings=a,this.file=l}function Qt(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}Yt.prototype=Object.create(Gt.prototype),Yt.prototype.consumer=Gt,Yt.fromSourceMap=function(e){var t=Object.create(Yt.prototype),n=t._names=zt.fromArray(e._names.toArray(),!0),r=t._sources=zt.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var i=e._mappings.toArray().slice(),o=t.__generatedMappings=[],s=t.__originalMappings=[],a=0,l=i.length;a<l;a++){var c=i[a],u=new Qt;u.generatedLine=c.generatedLine,u.generatedColumn=c.generatedColumn,c.source&&(u.source=r.indexOf(c.source),u.originalLine=c.originalLine,u.originalColumn=c.originalColumn,c.name&&(u.name=n.indexOf(c.name)),s.push(u)),o.push(u)}return Ht(t.__originalMappings,Lt.compareByOriginalPositions),t},Yt.prototype._version=3,Object.defineProperty(Yt.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?Lt.join(this.sourceRoot,e):e}),this)}}),Yt.prototype._parseMappings=function(e,t){for(var n,r,i,o,s,a=1,l=0,c=0,u=0,d=0,p=0,f=e.length,h=0,g={},m={},v=[],y=[];h<f;)if(";"===e.charAt(h))a++,h++,l=0;else if(","===e.charAt(h))h++;else{for((n=new Qt).generatedLine=a,o=h;o<f&&!this._charIsMappingSeparator(e,o);o++);if(i=g[r=e.slice(h,o)])h+=r.length;else{for(i=[];h<o;)Vt(e,h,m),s=m.value,h=m.rest,i.push(s);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");g[r]=i}n.generatedColumn=l+i[0],l=n.generatedColumn,i.length>1&&(n.source=d+i[1],d+=i[1],n.originalLine=c+i[2],c=n.originalLine,n.originalLine+=1,n.originalColumn=u+i[3],u=n.originalColumn,i.length>4&&(n.name=p+i[4],p+=i[4])),y.push(n),"number"==typeof n.originalLine&&v.push(n)}Ht(y,Lt.compareByGeneratedPositionsDeflated),this.__generatedMappings=y,Ht(v,Lt.compareByOriginalPositions),this.__originalMappings=v},Yt.prototype._findMapping=function(e,t,n,r,i,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return Nt.search(e,t,i,o)},Yt.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},Yt.prototype.originalPositionFor=function(e){var t={generatedLine:Lt.getArg(e,"line"),generatedColumn:Lt.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",Lt.compareByGeneratedPositionsDeflated,Lt.getArg(e,"bias",Gt.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var i=Lt.getArg(r,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=Lt.join(this.sourceRoot,i)));var o=Lt.getArg(r,"name",null);return null!==o&&(o=this._names.at(o)),{source:i,line:Lt.getArg(r,"originalLine",null),column:Lt.getArg(r,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}},Yt.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},Yt.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=Lt.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=Lt.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},Yt.prototype.generatedPositionFor=function(e){var t=Lt.getArg(e,"source");if(null!=this.sourceRoot&&(t=Lt.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:Lt.getArg(e,"line"),originalColumn:Lt.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Lt.compareByOriginalPositions,Lt.getArg(e,"bias",Gt.GREATEST_LOWER_BOUND));if(r>=0){var i=this._originalMappings[r];if(i.source===n.source)return{line:Lt.getArg(i,"generatedLine",null),column:Lt.getArg(i,"generatedColumn",null),lastColumn:Lt.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};var Jt=Yt;function Zt(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=Lt.getArg(t,"version"),r=Lt.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new zt,this._names=new zt;var i={line:-1,column:0};this._sections=r.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=Lt.getArg(e,"offset"),n=Lt.getArg(t,"line"),r=Lt.getArg(t,"column");if(n<i.line||n===i.line&&r<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=t,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new Gt(Lt.getArg(e,"map"))}}))}Zt.prototype=Object.create(Gt.prototype),Zt.prototype.constructor=Gt,Zt.prototype._version=3,Object.defineProperty(Zt.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),Zt.prototype.originalPositionFor=function(e){var t={generatedLine:Lt.getArg(e,"line"),generatedColumn:Lt.getArg(e,"column")},n=Nt.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},Zt.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},Zt.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},Zt.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(Lt.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},Zt.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],i=r.consumer._generatedMappings,o=0;o<i.length;o++){var s=i[o],a=r.consumer._sources.at(s.source);null!==r.consumer.sourceRoot&&(a=Lt.join(r.consumer.sourceRoot,a)),this._sources.add(a),a=this._sources.indexOf(a);var l=r.consumer._names.at(s.name);this._names.add(l),l=this._names.indexOf(l);var c={source:a,generatedLine:s.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(r.generatedOffset.generatedLine===s.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}Ht(this.__generatedMappings,Lt.compareByGeneratedPositionsDeflated),Ht(this.__originalMappings,Lt.compareByOriginalPositions)};var Kt={SourceMapConsumer:Xt,BasicSourceMapConsumer:Jt,IndexedSourceMapConsumer:Zt},en=It((function(e,t){var n;n=function(e,t){function n(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300||"file://"===e.substr(0,7)&&r.responseText?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()}))}function r(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function i(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}return function o(s){if(!(this instanceof o))return new o(s);s=s||{},this.sourceCache=s.sourceCache||{},this.sourceMapConsumerCache=s.sourceMapConsumerCache||{},this.ajax=s.ajax||n,this._atob=s.atob||r,this._get=function(e){return new Promise(function(t,n){var r="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(s.offline&&!r)n(new Error("Cannot make network requests in offline mode"));else if(r){var i=e.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(i){var o=i[0].length,a=e.substr(o),l=this._atob(a);this.sourceCache[e]=l,t(l)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var c=this.ajax(e,{method:"get"});this.sourceCache[e]=c,c.then(t,n)}}.bind(this))},this._getSourceMapConsumer=function(t,n){return new Promise(function(r){if(this.sourceMapConsumerCache[t])r(this.sourceMapConsumerCache[t]);else{var i=new Promise(function(r,i){return this._get(t).then((function(t){"string"==typeof t&&(t=function(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}(t.replace(/^\)\]\}'/,""))),void 0===t.sourceRoot&&(t.sourceRoot=n),r(new e.SourceMapConsumer(t))}),i)}.bind(this));this.sourceMapConsumerCache[t]=i,r(i)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n).catch(n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,r){i(e),this._get(e.fileName).then((function(r){var i=e.lineNumber,o=e.columnNumber,s=function(e,t){for(var n=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],r=e.split("\n"),i="",o=Math.min(t,20),s=0;s<o;++s){var a=r[t-s-1],l=a.indexOf("//");if(l>=0&&(a=a.substr(0,l)),a){i=a+i;for(var c=n.length,u=0;u<c;u++){var d=n[u].exec(i);if(d&&d[1])return d[1]}}}}(r,i);n(s?new t({functionName:s,args:e.args,fileName:e.fileName,lineNumber:i,columnNumber:o}):e)}),r).catch(r)}.bind(this))},this.getMappedLocation=function(e){return new Promise(function(n,r){!function(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}(),i(e);var o=this.sourceCache,s=e.fileName;this._get(s).then(function(r){var i=function(e){for(var t,n,r=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;n=r.exec(e);)t=n[1];if(t)return t;throw new Error("sourceMappingURL not found")}(r),a="data:"===i.substr(0,5),l=s.substring(0,s.lastIndexOf("/")+1);return"/"===i[0]||a||/^https?:\/\/|^\/\//i.test(i)||(i=l+i),this._getSourceMapConsumer(i,l).then((function(r){return function(e,n,r){return new Promise((function(i,o){var s=n.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(s.source){var a=n.sourceContentFor(s.source);a&&(r[s.source]=a),i(new t({functionName:s.name||e.functionName,args:e.args,fileName:s.source,lineNumber:s.line,columnNumber:s.column}))}else o(new Error("Could not get original source for given stackframe and source map"))}))}(e,r,o).then(n).catch((function(){n(e)}))}))}.bind(this),r).catch(r)}.bind(this))}}},e.exports=n(Kt,Tt)})),tn=It((function(e,t){var n;n=function(e,t,n){var r={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},i=function(){try{throw new Error}catch(e){return e}};function o(e,t){var n={};return[e,t].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n})),n}function s(e){return e.stack||e["opera#sourceloc"]}function a(e,t){return"function"==typeof t?e.filter(t):e}return{get:function(e){var t=i();return s(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(n){n=o(r,n);var l=i();return a(s(l)?e.parse(l):t.backtrace(n),n.filter)},fromError:function(t,i){i=o(r,i);var s=new n(i);return new Promise(function(n){var r=a(e.parse(t),i.filter);n(Promise.all(r.map((function(e){return new Promise((function(t){function n(){t(e)}s.pinpoint(e).then(t,n).catch(n)}))}))))}.bind(this))},generateArtificially:function(e){e=o(r,e);var n=t.backtrace(e);return"function"==typeof e.filter&&(n=n.filter(e.filter)),Promise.resolve(n)},instrument:function(e,t,n,r){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var i=function(){try{return this.get().then(t,n).catch(n),e.apply(r||this,arguments)}catch(e){throw s(e)&&this.fromError(e).then(t,n).catch(n),e}}.bind(this);return i.__stacktraceOriginalFn=e,i},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(e,t,n,r){return new Promise((function(i,o){var s=new XMLHttpRequest;if(s.onerror=o,s.onreadystatechange=function(){4===s.readyState&&(s.status>=200&&s.status<400?i(s.responseText):o(new Error("POST to "+t+" failed with status: "+s.status)))},s.open("post",t),s.setRequestHeader("Content-Type","application/json"),r&&"object"==typeof r.headers){var a=r.headers;for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s.setRequestHeader(l,a[l])}var c={stack:e};null!=n&&(c.message=n),s.send(JSON.stringify(c))}))}}},e.exports=n(Bt,Rt,en)}));class Store{constructor(e){Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"subscribers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"subscriberQueue",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:null})}static neq(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}set(e){Store.neq(this.value,e)&&(this.value=e,this.trigger())}trigger(){if(!this.stop)return;const e=!this.subscriberQueue.length;for(let e=0;e<this.subscribers.length;e+=1){const t=this.subscribers[e];t[1](),this.subscriberQueue.push(t,this.value)}if(e){for(let e=0;e<this.subscriberQueue.length;e+=2)this.subscriberQueue[e][0](this.subscriberQueue[e+1]);this.subscriberQueue.length=0}}update(e){this.set(e(this.value))}subscribe(e,t=(()=>{})){const n=[e,t];return this.subscribers.push(n),1===this.subscribers.length&&(this.stop=()=>{}),e(this.value),()=>{this.unsubscribe(n)}}unsubscribe(e){const t=this.subscribers.indexOf(e);-1!==t&&this.subscribers.splice(t,1),0===this.subscribers.length&&(this.stop?.(),this.stop=null)}}const nn=void 0;class Contexts{}Object.defineProperty(Contexts,"*",{enumerable:!0,configurable:!0,writable:!0,value:nn}),Object.defineProperty(Contexts,"globalAppBar",{enumerable:!0,configurable:!0,writable:!0,value:nn}),Object.defineProperty(Contexts,"globalHamburger",{enumerable:!0,configurable:!0,writable:!0,value:nn}),Object.defineProperty(Contexts,"globalToasts",{enumerable:!0,configurable:!0,writable:!0,value:nn}),Object.defineProperty(Contexts,"isSceneOutAnimationRunning",{enumerable:!0,configurable:!0,writable:!0,value:nn}),Object.defineProperty(Contexts,"isSceneInAnimationRunning",{enumerable:!0,configurable:!0,writable:!0,value:nn}),Object.defineProperty(Contexts,"isOutAnimationRunning",{enumerable:!0,configurable:!0,writable:!0,value:nn}),Object.defineProperty(Contexts,"isInAnimationRunning",{enumerable:!0,configurable:!0,writable:!0,value:nn}),Object.defineProperty(Contexts,"incompatibleReason",{enumerable:!0,configurable:!0,writable:!0,value:nn});class Ctx extends Contexts{static getStore(e){return e??(e=this.getCaller()),null==this.items[e]&&(this.items[e]=new Store(void 0)),this.items[e]}static get(e){return this.getStore(e)?.value}static set(e,t){e=this.getKey(e),null!=this.items[e]?this.items[e].set(t):this.items[e]=new Store(t)}static getCaller(){const e=tn.getSync();for(let t=0,n=e.length;t<n;++t){const{functionName:n}=e[t],r="new ";if(0===n?.indexOf(r)&&!n?.includes(Ctx.name))return n.substr(r.length)}throw new UnexpectedValueError("Wasn't able to get function caller")}static getKey(e){return"function"==typeof e?e.name:String(e)}}Object.defineProperty(Ctx,"BROADCAST_KEY",{enumerable:!0,configurable:!0,writable:!0,value:"*"}),Object.defineProperty(Ctx,"items",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(Ctx,"s",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.keys(Contexts).forEach((e=>{Object.defineProperty(Ctx,e,{get:()=>Ctx.get(e),set(t){Ctx.set(e,t)}}),Object.defineProperty(Ctx.s,e,{get:()=>Ctx.getStore(e)})}));class TransitionerResultItem extends Item{constructor(){super(...arguments),Object.defineProperty(this,"delay",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"duration",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"easing",{enumerable:!0,configurable:!0,writable:!0,value:et}),Object.defineProperty(this,"css",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),Object.defineProperty(this,"tick",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}}class Transitioner{constructor(){Object.defineProperty(this,"isInRegistered",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isOutRegistered",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"outIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inLength",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"outLength",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"t",{enumerable:!0,configurable:!0,writable:!0,value:()=>{let e=this.inIndex%this.inLength;return this.isInRegistered||(e=this.inLength++,setTimeout((()=>{this.isInRegistered=!0}),0)),++this.inIndex,{delay:50*e}}}),Object.defineProperty(this,"tt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{let e=this.outIndex%this.outLength;return this.isOutRegistered||(e=this.outLength++,setTimeout((()=>{this.isOutRegistered=!0}),0)),++this.outIndex,{delay:50*e}}})}static noop(){return TransitionerResultItem.from({delay:0,duration:0,easing:e=>e,css:()=>""})}static fade(e,{delay:t=0,duration:n=200,easing:r=et},i){const{opacity:o}=getComputedStyle(e);return TransitionerResultItem.from({delay:t,duration:n,easing:r,css:e=>"opacity: "+e*Number(o),tick:i})}static fadeIn(e,t){return Ctx.isInAnimationRunning=!0,Transitioner.fade(e,{easing:nt,...t},Transitioner.onInTick)}static fadeOut(e,t){return Ctx.isInAnimationRunning=!0,Transitioner.fade(e,{easing:tt,...t},Transitioner.onOutTick)}static dropIn(e,{delay:t=0,duration:n=500,easing:r=Ke}){const i=getComputedStyle(e),o=Number(i.opacity),s="none"===i.transform?"":i.transform;return Ctx.isInAnimationRunning=!0,TransitionerResultItem.from({delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\t\ttransform: ${s} translateY(${-20*t}px);\n\t\t\t\topacity: ${o*Math.min(2*e,1)};\n\t\t\t`,tick:Transitioner.onInTick})}static dropOut(e,{delay:t=0,duration:n=200,easing:r=Ze}){const i=getComputedStyle(e),o=Number(i.opacity),s="none"===i.transform?"":i.transform;return Ctx.isOutAnimationRunning=!0,TransitionerResultItem.from({delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\t\ttransform: ${s} translateY(${-20*t}px);\n\t\t\t\topacity: ${o*e};\n\t\t\t`,tick:Transitioner.onOutTick})}static onInTick(e){1===e&&(Ctx.isInAnimationRunning=!1)}static onOutTick(e){0===e&&(Ctx.isOutAnimationRunning=!1)}}const{fade:rn,fadeIn:on,fadeOut:sn,dropIn:an,dropOut:ln,noop:cn}=Transitioner;function un(e,t,n){const r=e.slice();return r[7]=t[n],r}function dn(e){let t,n=e[7].text+"";return{c(){t=O(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[7].text+"")&&B(t,n)},d(e){e&&A(t)}}}function pn(n){let r,i,a,l,c,u,d,p;return i=new Hint({props:{level:n[7].level,overrideColour:"--colour-background-primary",$$slots:{default:[dn]},$$scope:{ctx:n}}}),l=new Button({props:{icon:"clear",backgroundColour:"transparent",textColour:"--colour-background-primary",hoverColour:"#fff2",padding:"4px 8px",height:32}}),l.$on("click",(function(){return n[4](n[7])})),{c(){r=P("container"),Se(i.$$.fragment),a=M(),Se(l.$$.fragment),c=M(),R(r,"--colour-toast",CSSUtility.parse(Pt[n[7].level])+"\r\n\t\t\t"),T(r,"class","svelte-11m8us8")},m(e,t){C(e,r,t),$e(i,r,null),$(r,a),$e(l,r,null),$(r,c),p=!0},p(e,t){n=e;const o={};2&t&&(o.level=n[7].level),1026&t&&(o.$$scope={dirty:t,ctx:n}),i.$set(o),(!p||2&t)&&R(r,"--colour-toast",CSSUtility.parse(Pt[n[7].level])+"\r\n\t\t\t")},i(n){p||(ge(i.$$.fragment,n),ge(l.$$.fragment,n),re((()=>{d&&d.end(1),u||(u=function(n,r,i){let o,a,l=r(n,i),c=!1,u=0;function d(){o&&V(n,o)}function p(){const{delay:r=0,duration:i=300,easing:s=t,tick:p=e,css:f}=l||ve;f&&(o=F(n,0,1,i,r,s,f,u++)),p(0,1);const h=y()+r,g=h+i;a&&a.abort(),c=!0,re((()=>ue(n,!0,"start"))),a=S((e=>{if(c){if(e>=g)return p(1,0),ue(n,!0,"end"),d(),c=!1;if(e>=h){const t=s((e-h)/i);p(t,1-t)}}return c}))}let f=!1;return{start(){f||(V(n),s(l)?(l=l(),ce().then(p)):p())},invalidate(){f=!1},end(){c&&(d(),c=!1)}}}(r,an,{})),u.start()})),p=!0)},o(n){me(i.$$.fragment,n),me(l.$$.fragment,n),u&&u.invalidate(),d=function(n,r,i){let a,l=r(n,i),c=!0;const u=pe;function d(){const{delay:r=0,duration:i=300,easing:s=t,tick:d=e,css:p}=l||ve;p&&(a=F(n,1,0,i,r,s,p));const f=y()+r,h=f+i;re((()=>ue(n,!1,"start"))),S((e=>{if(c){if(e>=h)return d(0,1),ue(n,!1,"end"),--u.r||o(u.c),!1;if(e>=f){const t=s((e-f)/i);d(1-t,t)}}return c}))}return u.r+=1,s(l)?ce().then((()=>{l=l(),d()})):d(),{end(e){e&&l.tick&&l.tick(1,0),c&&(a&&V(n,a),c=!1)}}}(r,ln,{}),p=!1},d(e){e&&A(r),Ce(i),Ce(l),e&&d&&d.end()}}}function fn(e){let t,n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=pn(un(e,r,t));const o=e=>me(i[e],1,1,(()=>{i[e]=null}));return{c(){t=P("component");for(let e=0;e<i.length;e+=1)i[e].c();T(t,"class","svelte-11m8us8")},m(e,r){C(e,t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0},p(e,[n]){if(6&n){let s;for(r=e[1],s=0;s<r.length;s+=1){const o=un(e,r,s);i[s]?(i[s].p(o,n),ge(i[s],1)):(i[s]=pn(o),i[s].c(),ge(i[s],1),i[s].m(t,null))}for(fe(),s=r.length;s<i.length;s+=1)o(s);he()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)ge(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)me(i[e]);n=!1},d(e){e&&A(t),_(i,e)}}}class ToastItem extends Item{constructor(){super(...arguments),Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:String(Date.now())}),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"level",{enumerable:!0,configurable:!0,writable:!0,value:At.INFO}),Object.defineProperty(this,"duration",{enumerable:!0,configurable:!0,writable:!0,value:2e3})}}function hn(t,n,r){let i,o=e,s=()=>(o(),o=c(l,(e=>r(1,i=e))),l);t.$$.on_destroy.push((()=>o()));let{toasts:a=[]}=n,{toastsW:l=Pe(a)}=n;s();const u=[];function d(e){i.splice(i.findIndex((t=>t.uid===e)),1),l.set(i)}null==i&&function(e,t,n=t){e.set(n)}(l,i=[],i);return t.$$set=e=>{"toasts"in e&&r(3,a=e.toasts),"toastsW"in e&&s(r(0,l=e.toastsW))},t.$$.update=()=>{2&t.$$.dirty&&i.forEach((e=>{var t,n;t=e.uid,n=e.duration,u.includes(t)||(setTimeout((()=>{d(t)}),n),u.push(t))}))},[l,i,d,a,e=>{d(e.uid)}]}class Toast extends SvelteComponent{constructor(e){super(),Ae(this,e,hn,fn,a,{toasts:3,toastsW:0})}get toasts(){return this.$$.ctx[3]}set toasts(e){this.$set({toasts:e}),se()}get toastsW(){return this.$$.ctx[0]}set toastsW(e){this.$set({toastsW:e}),se()}}var gn={decomp:function(e){var t=Rn(e);return t.length>0?Ln(e,t):[e]},quickDecomp:function e(t,n,r,i,o,s,a){s=s||100,a=a||0,o=o||25,n=void 0!==n?n:[],r=r||[],i=i||[];var l=[0,0],c=[0,0],u=[0,0],d=0,p=0,f=0,h=0,g=0,m=0,v=0,y=[],x=[],b=t,w=t;if(w.length<3)return n;if(++a>s)return console.warn("quickDecomp: max level ("+s+") reached."),n;for(var S=0;S<t.length;++S)if(On(b,S)){r.push(b[S]),d=p=Number.MAX_VALUE;for(var $=0;$<t.length;++$)xn(Pn(b,S-1),Pn(b,S),Pn(b,$))&&Sn(Pn(b,S-1),Pn(b,S),Pn(b,$-1))&&(u=Nn(Pn(b,S-1),Pn(b,S),Pn(b,$),Pn(b,$-1)),wn(Pn(b,S+1),Pn(b,S),u)&&(f=_n(b[S],u))<p&&(p=f,c=u,m=$)),xn(Pn(b,S+1),Pn(b,S),Pn(b,$+1))&&Sn(Pn(b,S+1),Pn(b,S),Pn(b,$))&&(u=Nn(Pn(b,S+1),Pn(b,S),Pn(b,$),Pn(b,$+1)),xn(Pn(b,S-1),Pn(b,S),u)&&(f=_n(b[S],u))<d&&(d=f,l=u,g=$));if(m===(g+1)%t.length)u[0]=(c[0]+l[0])/2,u[1]=(c[1]+l[1])/2,i.push(u),S<g?(kn(y,b,S,g+1),y.push(u),x.push(u),0!==m&&kn(x,b,m,b.length),kn(x,b,0,S+1)):(0!==S&&kn(y,b,S,b.length),kn(y,b,0,g+1),y.push(u),x.push(u),kn(x,b,m,S+1));else{if(m>g&&(g+=t.length),h=Number.MAX_VALUE,g<m)return n;for($=m;$<=g;++$)bn(Pn(b,S-1),Pn(b,S),Pn(b,$))&&Sn(Pn(b,S+1),Pn(b,S),Pn(b,$))&&(f=_n(Pn(b,S),Pn(b,$)))<h&&Tn(b,S,$)&&(h=f,v=$%t.length);S<v?(kn(y,b,S,v+1),0!==v&&kn(x,b,v,w.length),kn(x,b,0,S+1)):(0!==S&&kn(y,b,S,w.length),kn(y,b,0,v+1),kn(x,b,v,S+1))}return y.length<x.length?(e(y,n,r,i,o,s,a),e(x,n,r,i,o,s,a)):(e(x,n,r,i,o,s,a),e(y,n,r,i,o,s,a)),n}return n.push(t),n},isSimple:function(e){var t,n=e;for(t=0;t<n.length-1;t++)for(var r=0;r<t-1;r++)if(vn(n[t],n[t+1],n[r],n[r+1]))return!1;for(t=1;t<n.length-2;t++)if(vn(n[0],n[n.length-1],n[t],n[t+1]))return!1;return!0},removeCollinearPoints:function(e,t){for(var n=0,r=e.length-1;e.length>3&&r>=0;--r)An(Pn(e,r-1),Pn(e,r),Pn(e,r+1),t)&&(e.splice(r%e.length,1),n++);return n},removeDuplicatePoints:function(e,t){for(var n=e.length-1;n>=1;--n)for(var r=e[n],i=n-1;i>=0;--i)Wn(r,e[i],t)&&e.splice(n,1)},makeCCW:function(e){for(var t=0,n=e,r=1;r<e.length;++r)(n[r][1]<n[t][1]||n[r][1]===n[t][1]&&n[r][0]>n[t][0])&&(t=r);return!xn(Pn(e,t-1),Pn(e,t),Pn(e,t+1))&&(function(e){for(var t=[],n=e.length,r=0;r!==n;r++)t.push(e.pop());for(r=0;r!==n;r++)e[r]=t[r]}(e),!0)}};function mn(e,t,n){n=n||0;var r,i,o,s,a,l,c,u=[0,0];return r=e[1][1]-e[0][1],i=e[0][0]-e[1][0],o=r*e[0][0]+i*e[0][1],s=t[1][1]-t[0][1],a=t[0][0]-t[1][0],l=s*t[0][0]+a*t[0][1],jn(c=r*a-s*i,0,n)||(u[0]=(a*o-i*l)/c,u[1]=(r*l-s*o)/c),u}function vn(e,t,n,r){var i=t[0]-e[0],o=t[1]-e[1],s=r[0]-n[0],a=r[1]-n[1];if(s*o-a*i==0)return!1;var l=(i*(n[1]-e[1])+o*(e[0]-n[0]))/(s*o-a*i),c=(s*(e[1]-n[1])+a*(n[0]-e[0]))/(a*i-s*o);return l>=0&&l<=1&&c>=0&&c<=1}function yn(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function xn(e,t,n){return yn(e,t,n)>0}function bn(e,t,n){return yn(e,t,n)>=0}function wn(e,t,n){return yn(e,t,n)<0}function Sn(e,t,n){return yn(e,t,n)<=0}var $n=[],Cn=[];function An(e,t,n,r){if(r){var i=$n,o=Cn;i[0]=t[0]-e[0],i[1]=t[1]-e[1],o[0]=n[0]-t[0],o[1]=n[1]-t[1];var s=i[0]*o[0]+i[1]*o[1],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return Math.acos(s/(a*l))<r}return 0===yn(e,t,n)}function _n(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Pn(e,t){var n=e.length;return e[t<0?t%n+n:t%n]}function kn(e,t,n,r){for(var i=n;i<r;i++)e.push(t[i])}function On(e,t){return wn(Pn(e,t-1),Pn(e,t),Pn(e,t+1))}var Mn=[],En=[];function In(e,t,n){var r,i,o=Mn,s=En;if(bn(Pn(e,t+1),Pn(e,t),Pn(e,n))&&Sn(Pn(e,t-1),Pn(e,t),Pn(e,n)))return!1;i=_n(Pn(e,t),Pn(e,n));for(var a=0;a!==e.length;++a)if((a+1)%e.length!==t&&a!==t&&bn(Pn(e,t),Pn(e,n),Pn(e,a+1))&&Sn(Pn(e,t),Pn(e,n),Pn(e,a))&&(o[0]=Pn(e,t),o[1]=Pn(e,n),s[0]=Pn(e,a),s[1]=Pn(e,a+1),r=mn(o,s),_n(Pn(e,t),r)<i))return!1;return!0}function Tn(e,t,n){for(var r=0;r!==e.length;++r)if(r!==t&&r!==n&&(r+1)%e.length!==t&&(r+1)%e.length!==n&&vn(Pn(e,t),Pn(e,n),Pn(e,r),Pn(e,r+1)))return!1;return!0}function Bn(e,t,n,r){var i=r||[];if(function(e){e.length=0}(i),t<n)for(var o=t;o<=n;o++)i.push(e[o]);else{for(o=0;o<=n;o++)i.push(e[o]);for(o=t;o<e.length;o++)i.push(e[o])}return i}function Rn(e){for(var t=[],n=[],r=[],i=[],o=Number.MAX_VALUE,s=0;s<e.length;++s)if(On(e,s))for(var a=0;a<e.length;++a)if(In(e,s,a)){n=Rn(Bn(e,s,a,i)),r=Rn(Bn(e,a,s,i));for(var l=0;l<r.length;l++)n.push(r[l]);n.length<o&&(t=n,o=n.length,t.push([Pn(e,s),Pn(e,a)]))}return t}function Ln(e,t){if(0===t.length)return[e];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2===t[0].length&&t[0][0]instanceof Array){for(var n=[e],r=0;r<t.length;r++)for(var i=t[r],o=0;o<n.length;o++){var s=Ln(n[o],i);if(s){n.splice(o,1),n.push(s[0],s[1]);break}}return n}i=t,r=e.indexOf(i[0]),o=e.indexOf(i[1]);return-1!==r&&-1!==o&&[Bn(e,r,o),Bn(e,o,r)]}function Nn(e,t,n,r,i){i=i||0;var o=t[1]-e[1],s=e[0]-t[0],a=o*e[0]+s*e[1],l=r[1]-n[1],c=n[0]-r[0],u=l*n[0]+c*n[1],d=o*c-l*s;return jn(d,0,i)?[0,0]:[(c*a-s*u)/d,(o*u-l*a)/d]}function jn(e,t,n){return n=n||0,Math.abs(e-t)<=n}function Wn(e,t,n){return jn(e[0],t[0],n)&&jn(e[1],t[1],n)}
/*!
 * matter-js 0.16.1 by @liabru 2021-01-31
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Un=Et(It((function(e,t){var n;n=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t){var n={};e.exports=n,function(){n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n.extend=function(e,t){var r,i;"boolean"==typeof t?(r=2,i=t):(r=1,i=!0);for(var o=r;o<arguments.length;o++){var s=arguments[o];if(s)for(var a in s)i&&s[a]&&s[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=s[a]:(e[a]=e[a]||{},n.extend(e[a],i,s[a])):e[a]=s[a]}return e},n.clone=function(e,t){return n.extend({},t,e)},n.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},n.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}for(var i in e)t.push(e[i]);return t},n.get=function(e,t,n,r){t=t.split(".").slice(n,r);for(var i=0;i<t.length;i+=1)e=e[t[i]];return e},n.set=function(e,t,r,i,o){var s=t.split(".").slice(i,o);return n.get(e,t,0,-1)[s[s.length-1]]=r,r},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(n.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e},n.choose=function(e){return e[Math.floor(n.random()*e.length)]},n.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.isFunction=function(e){return"function"==typeof e},n.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},n.isString=function(e){return"[object String]"===toString.call(e)},n.clamp=function(e,t,n){return e<t?t:e>n?n:e},n.sign=function(e){return e<0?-1:1},n.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-n._nowStartTime},n.random=function(t,n){return n=void 0!==n?n:1,(t=void 0!==t?t:0)+e()*(n-t)};var e=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.nextId=function(){return n._nextId++},n.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.map=function(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n},n.topologicalSort=function(e){var t=[],r=[],i=[];for(var o in e)r[o]||i[o]||n._topologicalSort(o,r,i,e,t);return t},n._topologicalSort=function(e,t,r,i,o){var s=i[e]||[];r[e]=!0;for(var a=0;a<s.length;a+=1){var l=s[a];r[l]||t[l]||n._topologicalSort(l,t,r,i,o)}r[e]=!1,t[e]=!0,o.push(e)},n.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var r=function(){for(var t,n=new Array(arguments.length),r=0,i=arguments.length;r<i;r++)n[r]=arguments[r];for(r=0;r<e.length;r+=1){var o=e[r].apply(t,n);void 0!==o&&(t=o)}return t};return r._chained=e,r},n.chainPathBefore=function(e,t,r){return n.set(e,t,n.chain(r,n.get(e,t)))},n.chainPathAfter=function(e,t,r){return n.set(e,t,n.chain(n.get(e,t),r))}}()},function(e,t){var n={};e.exports=n,n.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&n.update(t,e),t},n.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var i=t[r];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},n.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},n.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},n.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},n.shift=function(e,t){var n=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+r}},function(e,t){var n={};e.exports=n,n.create=function(e,t){return{x:e||0,y:t||0}},n.clone=function(e){return{x:e.x,y:e.y}},n.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},n.rotate=function(e,t,n){var r=Math.cos(t),i=Math.sin(t);n||(n={});var o=e.x*r-e.y*i;return n.y=e.x*i+e.y*r,n.x=o,n},n.rotateAbout=function(e,t,n,r){var i=Math.cos(t),o=Math.sin(t);r||(r={});var s=n.x+((e.x-n.x)*i-(e.y-n.y)*o);return r.y=n.y+((e.x-n.x)*o+(e.y-n.y)*i),r.x=s,r},n.normalise=function(e){var t=n.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.cross=function(e,t){return e.x*t.y-e.y*t.x},n.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},n.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},n.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},n.mult=function(e,t){return{x:e.x*t,y:e.y*t}},n.div=function(e,t){return{x:e.x/t,y:e.y/t}},n.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},n.neg=function(e){return{x:-e.x,y:-e.y}},n.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(e,t,n){var r={};e.exports=r;var i=n(2),o=n(0);r.create=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o={x:i.x,y:i.y,index:r,body:t,isInternal:!1};n.push(o)}return n},r.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,r){n.push({x:parseFloat(t),y:parseFloat(r)})})),r.create(n,t)},r.centre=function(e){for(var t,n,o,s=r.area(e,!0),a={x:0,y:0},l=0;l<e.length;l++)o=(l+1)%e.length,t=i.cross(e[l],e[o]),n=i.mult(i.add(e[l],e[o]),t),a=i.add(a,n);return i.div(a,6*s)},r.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return i.div(t,e.length)},r.area=function(e,t){for(var n=0,r=e.length-1,i=0;i<e.length;i++)n+=(e[r].x-e[i].x)*(e[r].y+e[i].y),r=i;return t?n/2:Math.abs(n)/2},r.inertia=function(e,t){for(var n,r,o=0,s=0,a=e,l=0;l<a.length;l++)r=(l+1)%a.length,o+=(n=Math.abs(i.cross(a[r],a[l])))*(i.dot(a[r],a[r])+i.dot(a[r],a[l])+i.dot(a[l],a[l])),s+=n;return t/6*(o/s)},r.translate=function(e,t,n){var r;if(n)for(r=0;r<e.length;r++)e[r].x+=t.x*n,e[r].y+=t.y*n;else for(r=0;r<e.length;r++)e[r].x+=t.x,e[r].y+=t.y;return e},r.rotate=function(e,t,n){if(0!==t){for(var r=Math.cos(t),i=Math.sin(t),o=0;o<e.length;o++){var s=e[o],a=s.x-n.x,l=s.y-n.y;s.x=n.x+(a*r-l*i),s.y=n.y+(a*i+l*r)}return e}},r.contains=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=e[(n+1)%e.length];if((t.x-r.x)*(i.y-r.y)+(t.y-r.y)*(r.x-i.x)>0)return!1}return!0},r.scale=function(e,t,n,o){if(1===t&&1===n)return e;var s,a;o=o||r.centre(e);for(var l=0;l<e.length;l++)s=e[l],a=i.sub(s,o),e[l].x=o.x+a.x*t,e[l].y=o.y+a.y*n;return e},r.chamfer=function(e,t,n,r,s){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,r=r||2,s=s||14;for(var a=[],l=0;l<e.length;l++){var c=e[l-1>=0?l-1:e.length-1],u=e[l],d=e[(l+1)%e.length],p=t[l<t.length?l:t.length-1];if(0!==p){var f=i.normalise({x:u.y-c.y,y:c.x-u.x}),h=i.normalise({x:d.y-u.y,y:u.x-d.x}),g=Math.sqrt(2*Math.pow(p,2)),m=i.mult(o.clone(f),p),v=i.normalise(i.mult(i.add(f,h),.5)),y=i.sub(u,i.mult(v,g)),x=n;-1===n&&(x=1.75*Math.pow(p,.32)),(x=o.clamp(x,r,s))%2==1&&(x+=1);for(var b=Math.acos(i.dot(f,h))/x,w=0;w<x;w++)a.push(i.add(i.rotate(m,b*w),y))}else a.push(u)}return a},r.clockwiseSort=function(e){var t=r.mean(e);return e.sort((function(e,n){return i.angle(t,e)-i.angle(t,n)})),e},r.isConvex=function(e){var t,n,r,i,o=0,s=e.length;if(s<3)return null;for(t=0;t<s;t++)if(r=(t+2)%s,i=(e[n=(t+1)%s].x-e[t].x)*(e[r].y-e[n].y),(i-=(e[n].y-e[t].y)*(e[r].x-e[n].x))<0?o|=1:i>0&&(o|=2),3===o)return!1;return 0!==o||null},r.hull=function(e){var t,n,r=[],o=[];for((e=e.slice(0)).sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),n=0;n<e.length;n+=1){for(t=e[n];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}return r.pop(),o.pop(),r.concat(o)}},function(e,t,n){var r={};e.exports=r;var i=n(0);r.on=function(e,t,n){for(var r,i=t.split(" "),o=0;o<i.length;o++)r=i[o],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(n);return n},r.off=function(e,t,n){if(t){"function"==typeof t&&(n=t,t=i.keys(e.events).join(" "));for(var r=t.split(" "),o=0;o<r.length;o++){var s=e.events[r[o]],a=[];if(n&&s)for(var l=0;l<s.length;l++)s[l]!==n&&a.push(s[l]);e.events[r[o]]=a}}else e.events={}},r.trigger=function(e,t,n){var r,o,s,a,l=e.events;if(l&&i.keys(l).length>0){n||(n={}),r=t.split(" ");for(var c=0;c<r.length;c++)if(s=l[o=r[c]]){(a=i.clone(n,!1)).name=o,a.source=e;for(var u=0;u<s.length;u++)s[u].apply(e,[a])}}}},function(e,t,n){var r={};e.exports=r;var i=n(4),o=n(0),s=n(1),a=n(6);r.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},r.setModified=function(e,t,n,i){if(e.isModified=t,n&&e.parent&&r.setModified(e.parent,t,n,i),i)for(var o=0;o<e.composites.length;o++){var s=e.composites[o];r.setModified(s,t,n,i)}},r.add=function(e,t){var n=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var s=0;s<n.length;s++){var a=n[s];switch(a.type){case"body":if(a.parent!==a){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(e,a);break;case"constraint":r.addConstraint(e,a);break;case"composite":r.addComposite(e,a);break;case"mouseConstraint":r.addConstraint(e,a.constraint)}}return i.trigger(e,"afterAdd",{object:t}),e},r.remove=function(e,t,n){var o=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var s=0;s<o.length;s++){var a=o[s];switch(a.type){case"body":r.removeBody(e,a,n);break;case"constraint":r.removeConstraint(e,a,n);break;case"composite":r.removeComposite(e,a,n);break;case"mouseConstraint":r.removeConstraint(e,a.constraint)}}return i.trigger(e,"afterRemove",{object:t}),e},r.addComposite=function(e,t){return e.composites.push(t),t.parent=e,r.setModified(e,!0,!0,!1),e},r.removeComposite=function(e,t,n){var i=o.indexOf(e.composites,t);if(-1!==i&&(r.removeCompositeAt(e,i),r.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)r.removeComposite(e.composites[s],t,!0);return e},r.removeCompositeAt=function(e,t){return e.composites.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addBody=function(e,t){return e.bodies.push(t),r.setModified(e,!0,!0,!1),e},r.removeBody=function(e,t,n){var i=o.indexOf(e.bodies,t);if(-1!==i&&(r.removeBodyAt(e,i),r.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)r.removeBody(e.composites[s],t,!0);return e},r.removeBodyAt=function(e,t){return e.bodies.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addConstraint=function(e,t){return e.constraints.push(t),r.setModified(e,!0,!0,!1),e},r.removeConstraint=function(e,t,n){var i=o.indexOf(e.constraints,t);if(-1!==i&&r.removeConstraintAt(e,i),n)for(var s=0;s<e.composites.length;s++)r.removeConstraint(e.composites[s],t,!0);return e},r.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),r.setModified(e,!0,!0,!1),e},r.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)r.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,r.setModified(e,!0,!0,!1),e},r.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(r.allBodies(e.composites[n]));return t},r.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(r.allConstraints(e.composites[n]));return t},r.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(r.allComposites(e.composites[n]));return t},r.get=function(e,t,n){var i,o;switch(n){case"body":i=r.allBodies(e);break;case"constraint":i=r.allConstraints(e);break;case"composite":i=r.allComposites(e).concat(e)}return i?0===(o=i.filter((function(e){return e.id.toString()===t.toString()}))).length?null:o[0]:null},r.move=function(e,t,n){return r.remove(e,t),r.add(n,t),e},r.rebase=function(e){for(var t=r.allBodies(e).concat(r.allConstraints(e)).concat(r.allComposites(e)),n=0;n<t.length;n++)t[n].id=o.nextId();return r.setModified(e,!0,!0,!1),e},r.translate=function(e,t,n){for(var i=n?r.allBodies(e):e.bodies,o=0;o<i.length;o++)a.translate(i[o],t);return r.setModified(e,!0,!0,!1),e},r.rotate=function(e,t,n,i){for(var o=Math.cos(t),s=Math.sin(t),l=i?r.allBodies(e):e.bodies,c=0;c<l.length;c++){var u=l[c],d=u.position.x-n.x,p=u.position.y-n.y;a.setPosition(u,{x:n.x+(d*o-p*s),y:n.y+(d*s+p*o)}),a.rotate(u,t)}return r.setModified(e,!0,!0,!1),e},r.scale=function(e,t,n,i,o){for(var s=o?r.allBodies(e):e.bodies,l=0;l<s.length;l++){var c=s[l],u=c.position.x-i.x,d=c.position.y-i.y;a.setPosition(c,{x:i.x+u*t,y:i.y+d*n}),a.scale(c,t,n)}return r.setModified(e,!0,!0,!1),e},r.bounds=function(e){for(var t=r.allBodies(e),n=[],i=0;i<t.length;i+=1){var o=t[i];n.push(o.bounds.min,o.bounds.max)}return s.create(n)}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(2),s=n(7),a=(n(10),n(0)),l=n(1),c=n(15);!function(){r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r.create=function(t){var n={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},r=a.extend(n,t);return e(r,t),r},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var e=function(e,t){t=t||{},r.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||o.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),i.rotate(e.vertices,e.angle,e.position),c.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),r.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#14151f":a.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),s=e.isStatic?"#555":"#ccc",u=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||s,e.render.lineWidth=e.render.lineWidth||u,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};r.set=function(e,t,n){var i;for(i in"string"==typeof t&&(i=t,(t={})[i]=n),t)if(Object.prototype.hasOwnProperty.call(t,i))switch(n=t[i],i){case"isStatic":r.setStatic(e,n);break;case"isSleeping":s.set(e,n);break;case"mass":r.setMass(e,n);break;case"density":r.setDensity(e,n);break;case"inertia":r.setInertia(e,n);break;case"vertices":r.setVertices(e,n);break;case"position":r.setPosition(e,n);break;case"angle":r.setAngle(e,n);break;case"velocity":r.setVelocity(e,n);break;case"angularVelocity":r.setAngularVelocity(e,n);break;case"parts":r.setParts(e,n);break;case"centre":r.setCentre(e,n);break;default:e[i]=n}},r.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var r=e.parts[n];r.isStatic=t,t?(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia},r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null)}},r.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},r.setDensity=function(e,t){r.setMass(e,t*e.area),e.density=t},r.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},r.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=i.create(t,e),e.axes=c.fromVertices(e.vertices),e.area=i.area(e.vertices),r.setMass(e,e.density*e.area);var n=i.centre(e.vertices);i.translate(e.vertices,n,-1),r.setInertia(e,r._inertiaScale*i.inertia(e.vertices,e.mass)),i.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},r.setParts=function(e,t,n){var o;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,o=0;o<t.length;o++){var s=t[o];s!==e&&(s.parent=e,e.parts.push(s))}if(1!==e.parts.length){if(n=void 0===n||n){var a=[];for(o=0;o<t.length;o++)a=a.concat(t[o].vertices);i.clockwiseSort(a);var l=i.hull(a),c=i.centre(l);r.setVertices(e,l),i.translate(e.vertices,c)}var u=r._totalProperties(e);e.area=u.area,e.parent=e,e.position.x=u.centre.x,e.position.y=u.centre.y,e.positionPrev.x=u.centre.x,e.positionPrev.y=u.centre.y,r.setMass(e,u.mass),r.setInertia(e,u.inertia),r.setPosition(e,u.centre)}},r.setCentre=function(e,t,n){n?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},r.setPosition=function(e,t){var n=o.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var r=0;r<e.parts.length;r++){var s=e.parts[r];s.position.x+=n.x,s.position.y+=n.y,i.translate(s.vertices,n),l.update(s.bounds,s.vertices,e.velocity)}},r.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var r=0;r<e.parts.length;r++){var s=e.parts[r];s.angle+=n,i.rotate(s.vertices,n,e.position),c.rotate(s.axes,n),l.update(s.bounds,s.vertices,e.velocity),r>0&&o.rotateAbout(s.position,n,e.position,s.position)}},r.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=o.magnitude(e.velocity)},r.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},r.translate=function(e,t){r.setPosition(e,o.add(e.position,t))},r.rotate=function(e,t,n){if(n){var i=Math.cos(t),o=Math.sin(t),s=e.position.x-n.x,a=e.position.y-n.y;r.setPosition(e,{x:n.x+(s*i-a*o),y:n.y+(s*o+a*i)}),r.setAngle(e,e.angle+t)}else r.setAngle(e,e.angle+t)},r.scale=function(e,t,n,o){var s=0,a=0;o=o||e.position;for(var u=0;u<e.parts.length;u++){var d=e.parts[u];i.scale(d.vertices,t,n,o),d.axes=c.fromVertices(d.vertices),d.area=i.area(d.vertices),r.setMass(d,e.density*d.area),i.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),r.setInertia(d,r._inertiaScale*i.inertia(d.vertices,d.mass)),i.translate(d.vertices,{x:d.position.x,y:d.position.y}),u>0&&(s+=d.area,a+=d.inertia),d.position.x=o.x+(d.position.x-o.x)*t,d.position.y=o.y+(d.position.y-o.y)*n,l.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=s,e.isStatic||(r.setMass(e,e.density*s),r.setInertia(e,a))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},r.update=function(e,t,n,r){var s=Math.pow(t*n*e.timeScale,2),a=1-e.frictionAir*n*e.timeScale,u=e.position.x-e.positionPrev.x,d=e.position.y-e.positionPrev.y;e.velocity.x=u*a*r+e.force.x/e.mass*s,e.velocity.y=d*a*r+e.force.y/e.mass*s,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*a*r+e.torque/e.inertia*s,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=o.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var p=0;p<e.parts.length;p++){var f=e.parts[p];i.translate(f.vertices,e.velocity),p>0&&(f.position.x+=e.velocity.x,f.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(f.vertices,e.angularVelocity,e.position),c.rotate(f.axes,e.angularVelocity),p>0&&o.rotateAbout(f.position,e.angularVelocity,e.position,f.position)),l.update(f.bounds,f.vertices,e.velocity)}},r.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var r=t.x-e.position.x,i=t.y-e.position.y;e.torque+=r*n.y-i*n.x},r._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var r=e.parts[n],i=r.mass!==1/0?r.mass:1;t.mass+=i,t.area+=r.area,t.inertia+=r.inertia,t.centre=o.add(t.centre,o.mult(r.position,i))}return t.centre=o.div(t.centre,t.mass),t}}()},function(e,t,n){var r={};e.exports=r;var i=n(4);r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var o=e[i],s=o.speed*o.speed+o.angularSpeed*o.angularSpeed;if(0===o.force.x&&0===o.force.y){var a=Math.min(o.motion,s),l=Math.max(o.motion,s);o.motion=r._minBias*a+(1-r._minBias)*l,o.sleepThreshold>0&&o.motion<r._motionSleepThreshold*n?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold&&r.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}else r.set(o,!1)}},r.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var o=e[i];if(o.isActive){var s=o.collision,a=s.bodyA.parent,l=s.bodyB.parent;if(!(a.isSleeping&&l.isSleeping||a.isStatic||l.isStatic)&&(a.isSleeping||l.isSleeping)){var c=a.isSleeping&&!a.isStatic?a:l,u=c===a?l:a;!c.isStatic&&u.motion>r._motionWakeThreshold*n&&r.set(c,!1)}}}},r.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&i.trigger(e,"sleepEnd"))}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(2),s=n(7),a=n(1),l=n(15),c=n(0);r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?o.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?o.add(t.bodyB.position,t.pointB):t.pointB,i=o.magnitude(o.sub(n,r));t.length=void 0!==t.length?t.length:i,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var s={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(s.type="pin",s.anchors=!1):t.stiffness<.9&&(s.type="spring"),t.render=c.extend(s,t.render),t},r.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],r=n.constraintImpulse;n.isStatic||0===r.x&&0===r.y&&0===r.angle||(n.position.x+=r.x,n.position.y+=r.y,n.angle+=r.angle)}},r.solveAll=function(e,t){for(var n=0;n<e.length;n+=1){var i=e[n],o=!i.bodyA||i.bodyA&&i.bodyA.isStatic,s=!i.bodyB||i.bodyB&&i.bodyB.isStatic;(o||s)&&r.solve(e[n],t)}for(n=0;n<e.length;n+=1)o=!(i=e[n]).bodyA||i.bodyA&&i.bodyA.isStatic,s=!i.bodyB||i.bodyB&&i.bodyB.isStatic,o||s||r.solve(e[n],t)},r.solve=function(e,t){var n=e.bodyA,i=e.bodyB,s=e.pointA,a=e.pointB;if(n||i){n&&!n.isStatic&&(o.rotate(s,n.angle-e.angleA,s),e.angleA=n.angle),i&&!i.isStatic&&(o.rotate(a,i.angle-e.angleB,a),e.angleB=i.angle);var l=s,c=a;if(n&&(l=o.add(n.position,s)),i&&(c=o.add(i.position,a)),l&&c){var u=o.sub(l,c),d=o.magnitude(u);d<r._minLength&&(d=r._minLength);var p,f,h,g,m,v=(d-e.length)/d,y=e.stiffness<1?e.stiffness*t:e.stiffness,x=o.mult(u,v*y),b=(n?n.inverseMass:0)+(i?i.inverseMass:0),w=b+((n?n.inverseInertia:0)+(i?i.inverseInertia:0));if(e.damping){var S=o.create();h=o.div(u,d),m=o.sub(i&&o.sub(i.position,i.positionPrev)||S,n&&o.sub(n.position,n.positionPrev)||S),g=o.dot(h,m)}n&&!n.isStatic&&(f=n.inverseMass/b,n.constraintImpulse.x-=x.x*f,n.constraintImpulse.y-=x.y*f,n.position.x-=x.x*f,n.position.y-=x.y*f,e.damping&&(n.positionPrev.x-=e.damping*h.x*g*f,n.positionPrev.y-=e.damping*h.y*g*f),p=o.cross(s,x)/w*r._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),i&&!i.isStatic&&(f=i.inverseMass/b,i.constraintImpulse.x+=x.x*f,i.constraintImpulse.y+=x.y*f,i.position.x+=x.x*f,i.position.y+=x.y*f,e.damping&&(i.positionPrev.x+=e.damping*h.x*g*f,i.positionPrev.y+=e.damping*h.y*g*f),p=o.cross(a,x)/w*r._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=p,i.angle+=p)}}},r.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],c=n.constraintImpulse;if(!(n.isStatic||0===c.x&&0===c.y&&0===c.angle)){s.set(n,!1);for(var u=0;u<n.parts.length;u++){var d=n.parts[u];i.translate(d.vertices,c),u>0&&(d.position.x+=c.x,d.position.y+=c.y),0!==c.angle&&(i.rotate(d.vertices,c.angle,n.position),l.rotate(d.axes,c.angle),u>0&&o.rotateAbout(d.position,c.angle,n.position,d.position)),a.update(d.bounds,d.vertices,n.velocity)}c.angle*=r._warming,c.x*=r._warming,c.y*=r._warming}}},r.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+e.pointA.x,y:(e.bodyA?e.bodyA.position.y:0)+e.pointA.y}},r.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+e.pointB.x,y:(e.bodyB?e.bodyB.position.y:0)+e.pointB.y}}},function(e,t,n){var r={};e.exports=r;var i=n(18);r.create=function(e,t){var n=e.bodyA,i=e.bodyB,o=e.parentA,s=e.parentB,a={id:r.id(n,i),bodyA:n,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,inverseMass:o.inverseMass+s.inverseMass,friction:Math.min(o.friction,s.friction),frictionStatic:Math.max(o.frictionStatic,s.frictionStatic),restitution:Math.max(o.restitution,s.restitution),slop:Math.max(o.slop,s.slop)};return r.update(a,e,t),a},r.update=function(e,t,n){var o=e.contacts,s=t.supports,a=e.activeContacts,l=t.parentA,c=t.parentB;if(e.collision=t,e.inverseMass=l.inverseMass+c.inverseMass,e.friction=Math.min(l.friction,c.friction),e.frictionStatic=Math.max(l.frictionStatic,c.frictionStatic),e.restitution=Math.max(l.restitution,c.restitution),e.slop=Math.max(l.slop,c.slop),a.length=0,t.collided){for(var u=0;u<s.length;u++){var d=s[u],p=i.id(d),f=o[p];f?a.push(f):a.push(o[p]=i.create(d))}e.separation=t.depth,r.setActive(e,!0,n)}else!0===e.isActive&&r.setActive(e,!1,n)},r.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},r.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},function(e,t,n){var r={};e.exports=r;var i=n(0),o=n(5),s=n(1),a=n(4),l=n(11),c=n(2),u=n(14);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(i.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(e){var t={controller:r,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},o=i.extend(t,e);return o.canvas&&(o.canvas.width=o.options.width||o.canvas.width,o.canvas.height=o.options.height||o.canvas.height),o.mouse=e.mouse,o.engine=e.engine,o.canvas=o.canvas||n(o.options.width,o.options.height),o.context=o.canvas.getContext("2d"),o.textures={},o.bounds=o.bounds||{min:{x:0,y:0},max:{x:o.canvas.width,y:o.canvas.height}},1!==o.options.pixelRatio&&r.setPixelRatio(o,o.options.pixelRatio),i.isElement(o.element)?o.element.appendChild(o.canvas):o.canvas.parentNode||i.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),o},r.run=function(t){!function n(i){t.frameRequestId=e(n),r.world(t)}()},r.stop=function(e){t(e.frameRequestId)},r.setPixelRatio=function(e,t){var n=e.options,r=e.canvas;"auto"===t&&(t=d(r)),n.pixelRatio=t,r.setAttribute("data-pixel-ratio",t),r.width=n.width*t,r.height=n.height*t,r.style.width=n.width+"px",r.style.height=n.height+"px"},r.lookAt=function(e,t,n,r){r=void 0===r||r,t=i.isArray(t)?t:[t],n=n||{x:0,y:0};for(var o={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},s=0;s<t.length;s+=1){var a=t[s],l=a.bounds?a.bounds.min:a.min||a.position||a,c=a.bounds?a.bounds.max:a.max||a.position||a;l&&c&&(l.x<o.min.x&&(o.min.x=l.x),c.x>o.max.x&&(o.max.x=c.x),l.y<o.min.y&&(o.min.y=l.y),c.y>o.max.y&&(o.max.y=c.y))}var d=o.max.x-o.min.x+2*n.x,p=o.max.y-o.min.y+2*n.y,f=e.canvas.height,h=e.canvas.width/f,g=d/p,m=1,v=1;g>h?v=g/h:m=h/g,e.options.hasBounds=!0,e.bounds.min.x=o.min.x,e.bounds.max.x=o.min.x+d*m,e.bounds.min.y=o.min.y,e.bounds.max.y=o.min.y+p*v,r&&(e.bounds.min.x+=.5*d-d*m*.5,e.bounds.max.x+=.5*d-d*m*.5,e.bounds.min.y+=.5*p-p*v*.5,e.bounds.max.y+=.5*p-p*v*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),u.setOffset(e.mouse,e.bounds.min))},r.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,i=n/e.options.height;e.context.setTransform(e.options.pixelRatio/r,0,0,e.options.pixelRatio/i,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},r.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},r.world=function(e){var t,n=e.engine,i=n.world,d=e.canvas,p=e.context,h=e.options,g=o.allBodies(i),m=o.allConstraints(i),v=h.wireframes?h.wireframeBackground:h.background,y=[],x=[],b={timestamp:n.timing.timestamp};if(a.trigger(e,"beforeRender",b),e.currentBackground!==v&&f(e,v),p.globalCompositeOperation="source-in",p.fillStyle="transparent",p.fillRect(0,0,d.width,d.height),p.globalCompositeOperation="source-over",h.hasBounds){for(t=0;t<g.length;t++){var w=g[t];s.overlaps(w.bounds,e.bounds)&&y.push(w)}for(t=0;t<m.length;t++){var S=m[t],$=S.bodyA,C=S.bodyB,A=S.pointA,_=S.pointB;$&&(A=c.add($.position,S.pointA)),C&&(_=c.add(C.position,S.pointB)),A&&_&&(s.contains(e.bounds,A)||s.contains(e.bounds,_))&&x.push(S)}r.startViewTransform(e),e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),u.setOffset(e.mouse,e.bounds.min))}else x=m,y=g,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!h.wireframes||n.enableSleeping&&h.showSleeping?r.bodies(e,y,p):(h.showConvexHulls&&r.bodyConvexHulls(e,y,p),r.bodyWireframes(e,y,p)),h.showBounds&&r.bodyBounds(e,y,p),(h.showAxes||h.showAngleIndicator)&&r.bodyAxes(e,y,p),h.showPositions&&r.bodyPositions(e,y,p),h.showVelocity&&r.bodyVelocity(e,y,p),h.showIds&&r.bodyIds(e,y,p),h.showSeparations&&r.separations(e,n.pairs.list,p),h.showCollisions&&r.collisions(e,n.pairs.list,p),h.showVertexNumbers&&r.vertexNumbers(e,y,p),h.showMousePosition&&r.mousePosition(e,e.mouse,p),r.constraints(x,p),h.showBroadphase&&n.broadphase.controller===l&&r.grid(e,n.broadphase,p),h.showDebug&&r.debug(e,p),h.hasBounds&&r.endViewTransform(e),a.trigger(e,"afterRender",b)},r.debug=function(e,t){var n=t,r=e.engine,i=r.world,s=r.metrics,a=e.options,c=o.allBodies(i),u="    ";if(r.timing.timestamp-(e.debugTimestamp||0)>=500){var d="";s.timing&&(d+="fps: "+Math.round(s.timing.fps)+u),s.extended&&(s.timing&&(d+="delta: "+s.timing.delta.toFixed(3)+u,d+="correction: "+s.timing.correction.toFixed(3)+u),d+="bodies: "+c.length+u,r.broadphase.controller===l&&(d+="buckets: "+s.buckets+u),d+="\n",d+="collisions: "+s.collisions+u,d+="pairs: "+r.pairs.list.length+u,d+="broad: "+s.broadEff+u,d+="mid: "+s.midEff+u,d+="narrow: "+s.narrowEff+u),e.debugString=d,e.debugTimestamp=r.timing.timestamp}if(e.debugString){n.font="12px Arial",a.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var p=e.debugString.split("\n"),f=0;f<p.length;f++)n.fillText(p[f],50,50+18*f)}},r.constraints=function(e,t){for(var n=t,r=0;r<e.length;r++){var o=e[r];if(o.render.visible&&o.pointA&&o.pointB){var s,a,l=o.bodyA,u=o.bodyB;if(s=l?c.add(l.position,o.pointA):o.pointA,"pin"===o.render.type)n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath();else{if(a=u?c.add(u.position,o.pointB):o.pointB,n.beginPath(),n.moveTo(s.x,s.y),"spring"===o.render.type)for(var d,p=c.sub(a,s),f=c.perp(c.normalise(p)),h=Math.ceil(i.clamp(o.length/5,12,20)),g=1;g<h;g+=1)d=g%2==0?1:-1,n.lineTo(s.x+p.x*(g/h)+f.x*d*4,s.y+p.y*(g/h)+f.y*d*4);n.lineTo(a.x,a.y)}o.render.lineWidth&&(n.lineWidth=o.render.lineWidth,n.strokeStyle=o.render.strokeStyle,n.stroke()),o.render.anchors&&(n.fillStyle=o.render.strokeStyle,n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},r.bodyShadows=function(e,t,n){for(var r=n,i=(e.engine,0);i<t.length;i++){var o=t[i];if(o.render.visible){if(o.circleRadius)r.beginPath(),r.arc(o.position.x,o.position.y,o.circleRadius,0,2*Math.PI),r.closePath();else{r.beginPath(),r.moveTo(o.vertices[0].x,o.vertices[0].y);for(var s=1;s<o.vertices.length;s++)r.lineTo(o.vertices[s].x,o.vertices[s].y);r.closePath()}var a=o.position.x-.5*e.options.width,l=o.position.y-.2*e.options.height,c=Math.abs(a)+Math.abs(l);r.shadowColor="rgba(0,0,0,0.15)",r.shadowOffsetX=.05*a,r.shadowOffsetY=.05*l,r.shadowBlur=1+12*Math.min(1,c/1e3),r.fill(),r.shadowColor=null,r.shadowOffsetX=null,r.shadowOffsetY=null,r.shadowBlur=null}}},r.bodies=function(e,t,n){var r,i,o,s,a=n,l=(e.engine,e.options),c=l.showInternalEdges||!l.wireframes;for(o=0;o<t.length;o++)if((r=t[o]).render.visible)for(s=r.parts.length>1?1:0;s<r.parts.length;s++)if((i=r.parts[s]).render.visible){if(l.showSleeping&&r.isSleeping?a.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(a.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!l.wireframes){var u=i.render.sprite,d=p(e,u.texture);a.translate(i.position.x,i.position.y),a.rotate(i.angle),a.drawImage(d,d.width*-u.xOffset*u.xScale,d.height*-u.yOffset*u.yScale,d.width*u.xScale,d.height*u.yScale),a.rotate(-i.angle),a.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)a.beginPath(),a.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(i.vertices[0].x,i.vertices[0].y);for(var f=1;f<i.vertices.length;f++)!i.vertices[f-1].isInternal||c?a.lineTo(i.vertices[f].x,i.vertices[f].y):a.moveTo(i.vertices[f].x,i.vertices[f].y),i.vertices[f].isInternal&&!c&&a.moveTo(i.vertices[(f+1)%i.vertices.length].x,i.vertices[(f+1)%i.vertices.length].y);a.lineTo(i.vertices[0].x,i.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=i.render.fillStyle,i.render.lineWidth&&(a.lineWidth=i.render.lineWidth,a.strokeStyle=i.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},r.bodyWireframes=function(e,t,n){var r,i,o,s,a,l=n,c=e.options.showInternalEdges;for(l.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(a=r.parts.length>1?1:0;a<r.parts.length;a++){for(i=r.parts[a],l.moveTo(i.vertices[0].x,i.vertices[0].y),s=1;s<i.vertices.length;s++)!i.vertices[s-1].isInternal||c?l.lineTo(i.vertices[s].x,i.vertices[s].y):l.moveTo(i.vertices[s].x,i.vertices[s].y),i.vertices[s].isInternal&&!c&&l.moveTo(i.vertices[(s+1)%i.vertices.length].x,i.vertices[(s+1)%i.vertices.length].y);l.lineTo(i.vertices[0].x,i.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},r.bodyConvexHulls=function(e,t,n){var r,i,o,s=n;for(s.beginPath(),i=0;i<t.length;i++)if((r=t[i]).render.visible&&1!==r.parts.length){for(s.moveTo(r.vertices[0].x,r.vertices[0].y),o=1;o<r.vertices.length;o++)s.lineTo(r.vertices[o].x,r.vertices[o].y);s.lineTo(r.vertices[0].x,r.vertices[0].y)}s.lineWidth=1,s.strokeStyle="rgba(255,255,255,0.2)",s.stroke()},r.vertexNumbers=function(e,t,n){var r,i,o,s=n;for(r=0;r<t.length;r++){var a=t[r].parts;for(o=a.length>1?1:0;o<a.length;o++){var l=a[o];for(i=0;i<l.vertices.length;i++)s.fillStyle="rgba(255,255,255,0.2)",s.fillText(r+"_"+i,l.position.x+.8*(l.vertices[i].x-l.position.x),l.position.y+.8*(l.vertices[i].y-l.position.y))}}},r.mousePosition=function(e,t,n){var r=n;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},r.bodyBounds=function(e,t,n){var r=n,i=(e.engine,e.options);r.beginPath();for(var o=0;o<t.length;o++)if(t[o].render.visible)for(var s=t[o].parts,a=s.length>1?1:0;a<s.length;a++){var l=s[a];r.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}i.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(e,t,n){var r,i,o,s,a=n,l=(e.engine,e.options);for(a.beginPath(),i=0;i<t.length;i++){var c=t[i],u=c.parts;if(c.render.visible)if(l.showAxes)for(o=u.length>1?1:0;o<u.length;o++)for(r=u[o],s=0;s<r.axes.length;s++){var d=r.axes[s];a.moveTo(r.position.x,r.position.y),a.lineTo(r.position.x+20*d.x,r.position.y+20*d.y)}else for(o=u.length>1?1:0;o<u.length;o++)for(r=u[o],s=0;s<r.axes.length;s++)a.moveTo(r.position.x,r.position.y),a.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}l.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},r.bodyPositions=function(e,t,n){var r,i,o,s,a=n,l=(e.engine,e.options);for(a.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(s=0;s<r.parts.length;s++)i=r.parts[s],a.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),o=0;o<t.length;o++)(r=t[o]).render.visible&&(a.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},r.bodyVelocity=function(e,t,n){var r=n;r.beginPath();for(var i=0;i<t.length;i++){var o=t[i];o.render.visible&&(r.moveTo(o.position.x,o.position.y),r.lineTo(o.position.x+2*(o.position.x-o.positionPrev.x),o.position.y+2*(o.position.y-o.positionPrev.y)))}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(e,t,n){var r,i,o=n;for(r=0;r<t.length;r++)if(t[r].render.visible){var s=t[r].parts;for(i=s.length>1?1:0;i<s.length;i++){var a=s[i];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(a.id,a.position.x+10,a.position.y-10)}}},r.collisions=function(e,t,n){var r,i,o,s,a=n,l=e.options;for(a.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive)for(i=r.collision,s=0;s<r.activeContacts.length;s++){var c=r.activeContacts[s].vertex;a.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive&&(i=r.collision,r.activeContacts.length>0)){var u=r.activeContacts[0].vertex.x,d=r.activeContacts[0].vertex.y;2===r.activeContacts.length&&(u=(r.activeContacts[0].vertex.x+r.activeContacts[1].vertex.x)/2,d=(r.activeContacts[0].vertex.y+r.activeContacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?a.moveTo(u-8*i.normal.x,d-8*i.normal.y):a.moveTo(u+8*i.normal.x,d+8*i.normal.y),a.lineTo(u,d)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},r.separations=function(e,t,n){var r,i,o,s,a,l=n,c=e.options;for(l.beginPath(),a=0;a<t.length;a++)if((r=t[a]).isActive){o=(i=r.collision).bodyA;var u=1;(s=i.bodyB).isStatic||o.isStatic||(u=.5),s.isStatic&&(u=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x-i.penetration.x*u,s.position.y-i.penetration.y*u),u=1,s.isStatic||o.isStatic||(u=.5),o.isStatic&&(u=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x+i.penetration.x*u,o.position.y+i.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},r.grid=function(e,t,n){var r=n;e.options.wireframes?r.strokeStyle="rgba(255,180,0,0.1)":r.strokeStyle="rgba(255,180,0,0.5)",r.beginPath();for(var o=i.keys(t.buckets),s=0;s<o.length;s++){var a=o[s];if(!(t.buckets[a].length<2)){var l=a.split(/C|R/);r.rect(.5+parseInt(l[1],10)*t.bucketWidth,.5+parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}r.lineWidth=1,r.stroke()},r.inspector=function(e,t){e.engine;var n,r=e.selected,i=e.render,o=i.options;if(o.hasBounds){var s=i.bounds.max.x-i.bounds.min.x,a=i.bounds.max.y-i.bounds.min.y,l=s/i.options.width,c=a/i.options.height;t.scale(1/l,1/c),t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var u=0;u<r.length;u++){var d=r[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),d.type){case"body":n=d.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var p=d.pointA;d.bodyA&&(p=d.pointB),t.beginPath(),t.arc(p.x,p.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),o.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},d=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},p=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},f=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},function(e,t,n){var r={};e.exports=r;var i=n(9),o=n(12),s=n(0);r.create=function(e){var t={controller:r,detector:o.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(t,e)},r.update=function(e,t,n,i){var o,s,a,l,c,u=n.world,d=e.buckets,p=!1,f=n.metrics;for(f.broadphaseTests=0,o=0;o<t.length;o++){var h=t[o];if((!h.isSleeping||i)&&!(h.bounds.max.x<u.bounds.min.x||h.bounds.min.x>u.bounds.max.x||h.bounds.max.y<u.bounds.min.y||h.bounds.min.y>u.bounds.max.y)){var g=r._getRegion(e,h);if(!h.region||g.id!==h.region.id||i){f.broadphaseTests+=1,h.region&&!i||(h.region=g);var m=r._regionUnion(g,h.region);for(s=m.startCol;s<=m.endCol;s++)for(a=m.startRow;a<=m.endRow;a++){l=d[c=r._getBucketId(s,a)];var v=s>=g.startCol&&s<=g.endCol&&a>=g.startRow&&a<=g.endRow,y=s>=h.region.startCol&&s<=h.region.endCol&&a>=h.region.startRow&&a<=h.region.endRow;!v&&y&&y&&l&&r._bucketRemoveBody(e,l,h),(h.region===g||v&&!y||i)&&(l||(l=r._createBucket(d,c)),r._bucketAddBody(e,l,h))}h.region=g,p=!0}}}p&&(e.pairsList=r._createActivePairsList(e))},r.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},r._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),o=Math.min(e.startRow,t.startRow),s=Math.max(e.endRow,t.endRow);return r._createRegion(n,i,o,s)},r._getRegion=function(e,t){var n=t.bounds,i=Math.floor(n.min.x/e.bucketWidth),o=Math.floor(n.max.x/e.bucketWidth),s=Math.floor(n.min.y/e.bucketHeight),a=Math.floor(n.max.y/e.bucketHeight);return r._createRegion(i,o,s,a)},r._createRegion=function(e,t,n,r){return{id:e+","+t+","+n+","+r,startCol:e,endCol:t,startRow:n,endRow:r}},r._getBucketId=function(e,t){return"C"+e+"R"+t},r._createBucket=function(e,t){return e[t]=[]},r._bucketAddBody=function(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];if(!(n.id===o.id||n.isStatic&&o.isStatic)){var s=i.id(n,o),a=e.pairs[s];a?a[2]+=1:e.pairs[s]=[n,o,1]}}t.push(n)},r._bucketRemoveBody=function(e,t,n){t.splice(s.indexOf(t,n),1);for(var r=0;r<t.length;r++){var o=t[r],a=i.id(n,o),l=e.pairs[a];l&&(l[2]-=1)}},r._createActivePairsList=function(e){var t,n,r=[];t=s.keys(e.pairs);for(var i=0;i<t.length;i++)(n=e.pairs[t[i]])[2]>0?r.push(n):delete e.pairs[t[i]];return r}},function(e,t,n){var r={};e.exports=r;var i=n(13),o=n(9),s=n(1);r.collisions=function(e,t){for(var n=[],a=t.pairs.table,l=t.metrics,c=0;c<e.length;c++){var u=e[c][0],d=e[c][1];if((!u.isStatic&&!u.isSleeping||!d.isStatic&&!d.isSleeping)&&r.canCollide(u.collisionFilter,d.collisionFilter)&&(l.midphaseTests+=1,s.overlaps(u.bounds,d.bounds)))for(var p=u.parts.length>1?1:0;p<u.parts.length;p++)for(var f=u.parts[p],h=d.parts.length>1?1:0;h<d.parts.length;h++){var g=d.parts[h];if(f===u&&g===d||s.overlaps(f.bounds,g.bounds)){var m,v=a[o.id(f,g)];m=v&&v.isActive?v.collision:null;var y=i.collides(f,g,m);l.narrowphaseTests+=1,y.reused&&(l.narrowReuseCount+=1),y.collided&&(n.push(y),l.narrowDetections+=1)}}}return n},r.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(2);r.collides=function(e,t,n){var s,a,l,c,u=!1;if(n){var d=e.parent,p=t.parent,f=d.speed*d.speed+d.angularSpeed*d.angularSpeed+p.speed*p.speed+p.angularSpeed*p.angularSpeed;u=n&&n.collided&&f<.2,c=n}else c={collided:!1,bodyA:e,bodyB:t};if(n&&u){var h=c.axisBody,g=h===e?t:e,m=[h.axes[n.axisNumber]];if(l=r._overlapAxes(h.vertices,g.vertices,m),c.reused=!0,l.overlap<=0)return c.collided=!1,c}else{if((s=r._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return c.collided=!1,c;if((a=r._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return c.collided=!1,c;s.overlap<a.overlap?(l=s,c.axisBody=e):(l=a,c.axisBody=t),c.axisNumber=l.axisNumber}c.bodyA=e.id<t.id?e:t,c.bodyB=e.id<t.id?t:e,c.collided=!0,c.depth=l.overlap,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent,e=c.bodyA,t=c.bodyB,o.dot(l.axis,o.sub(t.position,e.position))<0?c.normal={x:l.axis.x,y:l.axis.y}:c.normal={x:-l.axis.x,y:-l.axis.y},c.tangent=o.perp(c.normal),c.penetration=c.penetration||{},c.penetration.x=c.normal.x*c.depth,c.penetration.y=c.normal.y*c.depth;var v=r._findSupports(e,t,c.normal),y=[];if(i.contains(e.vertices,v[0])&&y.push(v[0]),i.contains(e.vertices,v[1])&&y.push(v[1]),y.length<2){var x=r._findSupports(t,e,o.neg(c.normal));i.contains(t.vertices,x[0])&&y.push(x[0]),y.length<2&&i.contains(t.vertices,x[1])&&y.push(x[1])}return y.length<1&&(y=[v[0]]),c.supports=y,c},r._overlapAxes=function(e,t,n){for(var i,s,a=o._temp[0],l=o._temp[1],c={overlap:Number.MAX_VALUE},u=0;u<n.length;u++){if(s=n[u],r._projectToAxis(a,e,s),r._projectToAxis(l,t,s),(i=Math.min(a.max-l.min,l.max-a.min))<=0)return c.overlap=i,c;i<c.overlap&&(c.overlap=i,c.axis=s,c.axisNumber=u)}return c},r._projectToAxis=function(e,t,n){for(var r=o.dot(t[0],n),i=r,s=1;s<t.length;s+=1){var a=o.dot(t[s],n);a>i?i=a:a<r&&(r=a)}e.min=r,e.max=i},r._findSupports=function(e,t,n){for(var r,i,s,a,l=Number.MAX_VALUE,c=o._temp[0],u=t.vertices,d=e.position,p=0;p<u.length;p++)i=u[p],c.x=i.x-d.x,c.y=i.y-d.y,(r=-o.dot(n,c))<l&&(l=r,s=i);return i=u[s.index-1>=0?s.index-1:u.length-1],c.x=i.x-d.x,c.y=i.y-d.y,l=-o.dot(n,c),a=i,i=u[(s.index+1)%u.length],c.x=i.x-d.x,c.y=i.y-d.y,(r=-o.dot(n,c))<l&&(a=i),[s,a]}},function(e,t,n){var r={};e.exports=r;var i=n(0);r.create=function(e){var t={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},r.setElement(t,t.element),t},r.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},r.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},r.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r._getRelativeMousePosition=function(e,t,n){var r,i,o=t.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,c=e.changedTouches;return c?(r=c[0].pageX-o.left-a,i=c[0].pageY-o.top-l):(r=e.pageX-o.left-a,i=e.pageY-o.top-l),{x:r/(t.clientWidth/(t.width||t.clientWidth)*n),y:i/(t.clientHeight/(t.height||t.clientHeight)*n)}}},function(e,t,n){var r={};e.exports=r;var i=n(2),o=n(0);r.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var r=(n+1)%e.length,s=i.normalise({x:e[r].y-e[n].y,y:e[n].x-e[r].x}),a=0===s.y?1/0:s.x/s.y;t[a=a.toFixed(3).toString()]=s}return o.values(t)},r.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),r=Math.sin(t),i=0;i<e.length;i++){var o,s=e[i];o=s.x*n-s.y*r,s.y=s.x*r+s.y*n,s.x=o}}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(0),s=n(6),a=n(1),l=n(2);r._decompWarned=!1,r.rectangle=function(e,t,n,r,a){a=a||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:i.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(a.chamfer){var c=a.chamfer;l.vertices=i.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return s.create(o.extend({},l,a))},r.trapezoid=function(e,t,n,r,a,l){l=l||{};var c,u=n*(a*=.5),d=u+(1-2*a)*n,p=d+u;c=a<.5?"L 0 0 L "+u+" "+-r+" L "+d+" "+-r+" L "+p+" 0":"L 0 0 L "+d+" "+-r+" L "+p+" 0";var f={label:"Trapezoid Body",position:{x:e,y:t},vertices:i.fromPath(c)};if(l.chamfer){var h=l.chamfer;f.vertices=i.chamfer(f.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete l.chamfer}return s.create(o.extend({},f,l))},r.circle=function(e,t,n,i,s){i=i||{};var a={label:"Circle Body",circleRadius:n};s=s||25;var l=Math.ceil(Math.max(10,Math.min(s,n)));return l%2==1&&(l+=1),r.polygon(e,t,l,n,o.extend({},a,i))},r.polygon=function(e,t,n,a,l){if(l=l||{},n<3)return r.circle(e,t,a,l);for(var c=2*Math.PI/n,u="",d=.5*c,p=0;p<n;p+=1){var f=d+p*c,h=Math.cos(f)*a,g=Math.sin(f)*a;u+="L "+h.toFixed(3)+" "+g.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:e,y:t},vertices:i.fromPath(u)};if(l.chamfer){var v=l.chamfer;m.vertices=i.chamfer(m.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete l.chamfer}return s.create(o.extend({},m,l))},r.fromVertices=function(e,t,c,u,d,p,f,h){var g,m,v,y,x,b,w,S,$,C,A;try{g=n(27)}catch(e){g=null}for(m=Boolean(g&&g.quickDecomp),u=u||{},y=[],d=void 0!==d&&d,p=void 0!==p?p:.01,f=void 0!==f?f:10,h=void 0!==h?h:.01,o.isArray(c[0])||(c=[c]),C=0;C<c.length;C+=1)if(b=c[C],!!(x=i.isConvex(b))||m||r._decompWarned||(o.warn("Could not resolve the expected 'poly-decomp' package for concave vertices in 'Bodies.fromVertices'"),o.warn("Try 'npm install poly-decomp --save' or as a global e.g. 'window.decomp'"),r._decompWarned=!0),x||!m)b=x?i.clockwiseSort(b):i.hull(b),y.push({position:{x:e,y:t},vertices:b});else{var _=b.map((function(e){return[e.x,e.y]}));g.makeCCW(_),!1!==p&&g.removeCollinearPoints(_,p),!1!==h&&g.removeDuplicatePoints&&g.removeDuplicatePoints(_,h);var P=g.quickDecomp(_);for(w=0;w<P.length;w++){var k=P[w].map((function(e){return{x:e[0],y:e[1]}}));f>0&&i.area(k)<f||y.push({position:i.centre(k),vertices:k})}}for(w=0;w<y.length;w++)y[w]=s.create(o.extend(y[w],u));if(d)for(w=0;w<y.length;w++){var O=y[w];for(S=w+1;S<y.length;S++){var M=y[S];if(a.overlaps(O.bounds,M.bounds)){var E=O.vertices,I=M.vertices;for($=0;$<O.vertices.length;$++)for(A=0;A<M.vertices.length;A++){var T=l.magnitudeSquared(l.sub(E[($+1)%E.length],I[A])),B=l.magnitudeSquared(l.sub(E[$],I[(A+1)%I.length]));T<5&&B<5&&(E[$].isInternal=!0,I[A].isInternal=!0)}}}}return y.length>1?(v=s.create(o.extend({parts:y.slice(0)},u)),s.setPosition(v,{x:e,y:t}),v):y[0]}},function(e,t,n){var r={};e.exports=r;var i=n(0);r._registry={},r.register=function(e){if(r.isPlugin(e)||i.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry){var t=r._registry[e.name],n=r.versionParse(e.version).number,o=r.versionParse(t.version).number;n>o?(i.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):n<o?i.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&i.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")}else r._registry[e.name]=e;return e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return e.used.indexOf(t)>-1},r.isFor=function(e,t){var n=e.for&&r.dependencyParse(e.for);return!e.for||t.name===n.name&&r.versionSatisfies(t.version,n.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=r.dependencies(e),o=i.topologicalSort(n),s=[],a=0;a<o.length;a+=1)if(o[a]!==e.name){var l=r.resolve(o[a]);l?r.isUsed(e,l.name)||(r.isFor(l,e)||(i.warn("Plugin.use:",r.toString(l),"is for",l.for,"but installed on",r.toString(e)+"."),l._warned=!0),l.install?l.install(e):(i.warn("Plugin.use:",r.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(s.push(" "+r.toString(l)),delete l._warned):s.push(" "+r.toString(l)),e.used.push(l.name)):s.push(" "+o[a])}s.length>0&&i.info(s.join("  "))}else i.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.")},r.dependencies=function(e,t){var n=r.dependencyParse(e),o=n.name;if(!(o in(t=t||{}))){e=r.resolve(e)||e,t[o]=i.map(e.uses||[],(function(t){r.isPlugin(t)&&r.register(t);var o=r.dependencyParse(t),s=r.resolve(t);return s&&!r.versionSatisfies(s.version,o.range)?(i.warn("Plugin.dependencies:",r.toString(s),"does not satisfy",r.toString(o),"used by",r.toString(n)+"."),s._warned=!0,e._warned=!0):s||(i.warn("Plugin.dependencies:",r.toString(t),"used by",r.toString(n),"could not be resolved."),e._warned=!0),o.name}));for(var s=0;s<t[o].length;s+=1)r.dependencies(t[o][s],t);return t}},r.dependencyParse=function(e){return i.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-]+)?$/;t.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var n=t.exec(e),r=Number(n[4]),o=Number(n[5]),s=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:e,operator:n[1]||n[2]||"",major:r,minor:o,patch:s,parts:[r,o,s],prerelease:n[7],number:1e8*r+1e4*o+s}},r.versionSatisfies=function(e,t){t=t||"*";var n=r.versionParse(t),i=r.versionParse(e);if(n.isRange){if("*"===n.operator||"*"===e)return!0;if(">"===n.operator)return i.number>n.number;if(">="===n.operator)return i.number>=n.number;if("~"===n.operator)return i.major===n.major&&i.minor===n.minor&&i.patch>=n.patch;if("^"===n.operator)return n.major>0?i.major===n.major&&i.number>=n.number:n.minor>0?i.minor===n.minor&&i.patch>=n.patch:i.patch===n.patch}return e===t||"*"===e}},function(e,t){var n={};e.exports=n,n.create=function(e){return{id:n.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},n.id=function(e){return e.body.id+"_"+e.index}},function(e,t,n){var r={};e.exports=r;var i=n(5),o=(n(8),n(0));r.create=function(e){var t=i.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return o.extend(t,n,e)}},function(e,t,n){var r={};e.exports=r;var i=n(9),o=n(0);r._pairMaxIdleLife=1e3,r.create=function(e){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},r.update=function(e,t,n){var r,o,s,a,l=e.list,c=e.table,u=e.collisionStart,d=e.collisionEnd,p=e.collisionActive;for(u.length=0,d.length=0,p.length=0,a=0;a<l.length;a++)l[a].confirmedActive=!1;for(a=0;a<t.length;a++)(r=t[a]).collided&&((s=c[o=i.id(r.bodyA,r.bodyB)])?(s.isActive?p.push(s):u.push(s),i.update(s,r,n),s.confirmedActive=!0):(s=i.create(r,n),c[o]=s,u.push(s),l.push(s)));for(a=0;a<l.length;a++)(s=l[a]).isActive&&!s.confirmedActive&&(i.setActive(s,!1,n),d.push(s))},r.removeOld=function(e,t){var n,i,o,s,a=e.list,l=e.table,c=[];for(s=0;s<a.length;s++)(i=(n=a[s]).collision).bodyA.isSleeping||i.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>r._pairMaxIdleLife&&c.push(s);for(s=0;s<c.length;s++)delete l[(n=a[o=c[s]-s]).id],a.splice(o,1)},r.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(2),s=n(0),a=n(1);r._restingThresh=4,r._restingThreshTangent=6,r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r.preSolvePosition=function(e){var t,n,r;for(t=0;t<e.length;t++)(n=e[t]).isActive&&(r=n.activeContacts.length,n.collision.parentA.totalContacts+=r,n.collision.parentB.totalContacts+=r)},r.solvePosition=function(e,t){var n,i,s,a,l,c,u,d,p,f=o._temp[0],h=o._temp[1],g=o._temp[2],m=o._temp[3];for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(a=(s=i.collision).parentA,l=s.parentB,c=s.normal,u=o.sub(o.add(l.positionImpulse,l.position,f),o.add(a.positionImpulse,o.sub(l.position,s.penetration,h),g),m),i.separation=o.dot(c,u));for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(a=(s=i.collision).parentA,l=s.parentB,c=s.normal,p=(i.separation-i.slop)*t,(a.isStatic||l.isStatic)&&(p*=2),a.isStatic||a.isSleeping||(d=r._positionDampen/a.totalContacts,a.positionImpulse.x+=c.x*p*d,a.positionImpulse.y+=c.y*p*d),l.isStatic||l.isSleeping||(d=r._positionDampen/l.totalContacts,l.positionImpulse.x-=c.x*p*d,l.positionImpulse.y-=c.y*p*d))},r.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var s=0;s<n.parts.length;s++){var l=n.parts[s];i.translate(l.vertices,n.positionImpulse),a.update(l.bounds,l.vertices,n.velocity),l.position.x+=n.positionImpulse.x,l.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,o.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=r._positionWarming,n.positionImpulse.y*=r._positionWarming)}}},r.preSolveVelocity=function(e){var t,n,r,i,s,a,l,c,u,d,p,f,h,g,m=o._temp[0],v=o._temp[1];for(t=0;t<e.length;t++)if((r=e[t]).isActive&&!r.isSensor)for(i=r.activeContacts,a=(s=r.collision).parentA,l=s.parentB,c=s.normal,u=s.tangent,n=0;n<i.length;n++)p=(d=i[n]).vertex,f=d.normalImpulse,h=d.tangentImpulse,0===f&&0===h||(m.x=c.x*f+u.x*h,m.y=c.y*f+u.y*h,a.isStatic||a.isSleeping||(g=o.sub(p,a.position,v),a.positionPrev.x+=m.x*a.inverseMass,a.positionPrev.y+=m.y*a.inverseMass,a.anglePrev+=o.cross(g,m)*a.inverseInertia),l.isStatic||l.isSleeping||(g=o.sub(p,l.position,v),l.positionPrev.x-=m.x*l.inverseMass,l.positionPrev.y-=m.y*l.inverseMass,l.anglePrev-=o.cross(g,m)*l.inverseInertia))},r.solveVelocity=function(e,t){for(var n=t*t,i=o._temp[0],a=o._temp[1],l=o._temp[2],c=o._temp[3],u=o._temp[4],d=o._temp[5],p=0;p<e.length;p++){var f=e[p];if(f.isActive&&!f.isSensor){var h=f.collision,g=h.parentA,m=h.parentB,v=h.normal,y=h.tangent,x=f.activeContacts,b=1/x.length;g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,g.angularVelocity=g.angle-g.anglePrev,m.angularVelocity=m.angle-m.anglePrev;for(var w=0;w<x.length;w++){var S=x[w],$=S.vertex,C=o.sub($,g.position,a),A=o.sub($,m.position,l),_=o.add(g.velocity,o.mult(o.perp(C),g.angularVelocity),c),P=o.add(m.velocity,o.mult(o.perp(A),m.angularVelocity),u),k=o.sub(_,P,d),O=o.dot(v,k),M=o.dot(y,k),E=Math.abs(M),I=s.sign(M),T=(1+f.restitution)*O,B=s.clamp(f.separation+O,0,1)*r._frictionNormalMultiplier,R=M,L=1/0;E>f.friction*f.frictionStatic*B*n&&(L=E,R=s.clamp(f.friction*I*n,-L,L));var N=o.cross(C,v),j=o.cross(A,v),W=b/(g.inverseMass+m.inverseMass+g.inverseInertia*N*N+m.inverseInertia*j*j);if(T*=W,R*=W,O<0&&O*O>r._restingThresh*n)S.normalImpulse=0;else{var U=S.normalImpulse;S.normalImpulse=Math.min(S.normalImpulse+T,0),T=S.normalImpulse-U}if(M*M>r._restingThreshTangent*n)S.tangentImpulse=0;else{var F=S.tangentImpulse;S.tangentImpulse=s.clamp(S.tangentImpulse+R,-L,L),R=S.tangentImpulse-F}i.x=v.x*T+y.x*R,i.y=v.y*T+y.y*R,g.isStatic||g.isSleeping||(g.positionPrev.x+=i.x*g.inverseMass,g.positionPrev.y+=i.y*g.inverseMass,g.anglePrev+=o.cross(C,i)*g.inverseInertia),m.isStatic||m.isSleeping||(m.positionPrev.x-=i.x*m.inverseMass,m.positionPrev.y-=i.y*m.inverseMass,m.anglePrev-=o.cross(A,i)*m.inverseInertia)}}}}},function(e,t,n){var r={};e.exports=r;var i=n(19),o=n(7),s=n(21),a=n(10),l=n(20),c=n(23),u=n(11),d=n(4),p=n(5),f=n(8),h=n(0),g=n(6);r.create=function(e,t){t=(t=h.isElement(e)?t:e)||{},((e=h.isElement(e)?e:null)||t.render)&&h.warn("Engine.create: engine.render is deprecated (see docs)");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:u}},r=h.extend(n,t);if(e||r.render){var o={element:e,controller:a};r.render=h.extend(o,r.render)}return r.render&&r.render.controller&&(r.render=r.render.controller.create(r.render)),r.render&&(r.render.engine=r),r.world=t.world||i.create(r.world),r.pairs=l.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r.metrics=c.create(r.metrics),r},r.update=function(e,t,n){t=t||1e3/60,n=n||1;var i,a=e.world,u=e.timing,h=e.broadphase,g=[];u.timestamp+=t*u.timeScale;var m={timestamp:u.timestamp};d.trigger(e,"beforeUpdate",m);var v=p.allBodies(a),y=p.allConstraints(a);for(c.reset(e.metrics),e.enableSleeping&&o.update(v,u.timeScale),r._bodiesApplyGravity(v,a.gravity),r._bodiesUpdate(v,t,u.timeScale,n,a.bounds),f.preSolveAll(v),i=0;i<e.constraintIterations;i++)f.solveAll(y,u.timeScale);f.postSolveAll(v),h.controller?(a.isModified&&h.controller.clear(h),h.controller.update(h,v,e,a.isModified),g=h.pairsList):g=v,a.isModified&&p.setModified(a,!1,!1,!0);var x=h.detector(g,e),b=e.pairs,w=u.timestamp;for(l.update(b,x,w),l.removeOld(b,w),e.enableSleeping&&o.afterCollisions(b.list,u.timeScale),b.collisionStart.length>0&&d.trigger(e,"collisionStart",{pairs:b.collisionStart}),s.preSolvePosition(b.list),i=0;i<e.positionIterations;i++)s.solvePosition(b.list,u.timeScale);for(s.postSolvePosition(v),f.preSolveAll(v),i=0;i<e.constraintIterations;i++)f.solveAll(y,u.timeScale);for(f.postSolveAll(v),s.preSolveVelocity(b.list),i=0;i<e.velocityIterations;i++)s.solveVelocity(b.list,u.timeScale);return b.collisionActive.length>0&&d.trigger(e,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&d.trigger(e,"collisionEnd",{pairs:b.collisionEnd}),c.update(e.metrics,e),r._bodiesClearForces(v),d.trigger(e,"afterUpdate",m),e},r.merge=function(e,t){if(h.extend(e,t),t.world){e.world=t.world,r.clear(e);for(var n=p.allBodies(e.world),i=0;i<n.length;i++){var s=n[i];o.set(s,!1),s.id=h.nextId()}}},r.clear=function(e){var t=e.world;l.clear(e.pairs);var n=e.broadphase;if(n.controller){var r=p.allBodies(t);n.controller.clear(n),n.controller.update(n,r,e,!0)}},r._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},r._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var r=0;r<e.length;r++){var i=e[r];i.isStatic||i.isSleeping||(i.force.y+=i.mass*t.y*n,i.force.x+=i.mass*t.x*n)}},r._bodiesUpdate=function(e,t,n,r,i){for(var o=0;o<e.length;o++){var s=e[o];s.isStatic||s.isSleeping||g.update(s,t,n,r)}}},function(e,t,n){var r={};e.exports=r;var i=n(5),o=n(0);r.create=function(e){return o.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,e)},r.reset=function(e){e.extended&&(e.narrowDetections=0,e.narrowphaseTests=0,e.narrowReuse=0,e.narrowReuseCount=0,e.midphaseTests=0,e.broadphaseTests=0,e.narrowEff=0,e.midEff=0,e.broadEff=0,e.collisions=0,e.buckets=0,e.pairs=0,e.bodies=0)},r.update=function(e,t){if(e.extended){var n=t.world,r=i.allBodies(n);e.collisions=e.narrowDetections,e.pairs=t.pairs.list.length,e.bodies=r.length,e.midEff=(e.narrowDetections/(e.midphaseTests||1)).toFixed(2),e.narrowEff=(e.narrowDetections/(e.narrowphaseTests||1)).toFixed(2),e.broadEff=(1-e.broadphaseTests/(r.length||1)).toFixed(2),e.narrowReuse=(e.narrowReuseCount/(e.narrowphaseTests||1)).toFixed(2)}}},function(e,t,n){var r=e.exports=n(25);r.Body=n(6),r.Composite=n(5),r.World=n(19),r.Contact=n(18),r.Detector=n(12),r.Grid=n(11),r.Pairs=n(20),r.Pair=n(9),r.Query=n(26),r.Resolver=n(21),r.SAT=n(13),r.Constraint=n(8),r.MouseConstraint=n(28),r.Common=n(0),r.Engine=n(22),r.Events=n(4),r.Mouse=n(14),r.Runner=n(29),r.Sleeping=n(7),r.Plugin=n(17),r.Metrics=n(23),r.Bodies=n(16),r.Composites=n(30),r.Axes=n(15),r.Bounds=n(1),r.Svg=n(31),r.Vector=n(2),r.Vertices=n(3),r.Render=n(10),r.RenderPixi=n(32),r.World.add=r.Composite.add,r.World.remove=r.Composite.remove,r.World.addComposite=r.Composite.addComposite,r.World.addBody=r.Composite.addBody,r.World.addConstraint=r.Composite.addConstraint,r.World.clear=r.Composite.clear,r.Engine.run=r.Runner.run},function(e,t,n){var r={};e.exports=r;var i=n(17),o=n(0);r.name="matter-js",r.version="0.16.1",r.uses=[],r.used=[],r.use=function(){i.use(r,Array.prototype.slice.call(arguments))},r.before=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathBefore(r,e,t)},r.after=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathAfter(r,e,t)}},function(e,t,n){var r={};e.exports=r;var i=n(2),o=n(13),s=n(1),a=n(16),l=n(3);r.collides=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];if(s.overlaps(i.bounds,e.bounds))for(var a=1===i.parts.length?0:1;a<i.parts.length;a++){var l=i.parts[a];if(s.overlaps(l.bounds,e.bounds)){var c=o.collides(l,e);if(c.collided){n.push(c);break}}}}return n},r.ray=function(e,t,n,o){o=o||1e-100;for(var s=i.angle(t,n),l=i.magnitude(i.sub(t,n)),c=.5*(n.x+t.x),u=.5*(n.y+t.y),d=a.rectangle(c,u,l,o,{angle:s}),p=r.collides(d,e),f=0;f<p.length;f+=1){var h=p[f];h.body=h.bodyB=h.bodyA}return p},r.region=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i],a=s.overlaps(o.bounds,t);(a&&!n||!a&&n)&&r.push(o)}return r},r.point=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if(s.contains(i.bounds,t))for(var o=1===i.parts.length?0:1;o<i.parts.length;o++){var a=i.parts[o];if(s.contains(a.bounds,t)&&l.contains(a.vertices,t)){n.push(i);break}}}return n}},function(t,n){if(void 0===e){var r=new Error("Cannot find module 'undefined'");throw r.code="MODULE_NOT_FOUND",r}t.exports=e},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(7),s=n(14),a=n(4),l=n(12),c=n(8),u=n(5),d=n(0),p=n(1);r.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=s.create(e.render.canvas):t&&t.element?n=s.create(t.element):(n=s.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},o=d.extend(i,t);return a.on(e,"beforeUpdate",(function(){var t=u.allBodies(e.world);r.update(o,t),r._triggerEvents(o)})),o},r.update=function(e,t){var n=e.mouse,r=e.constraint,s=e.body;if(0===n.button){if(r.bodyB)o.set(r.bodyB,!1),r.pointA=n.position;else for(var c=0;c<t.length;c++)if(s=t[c],p.contains(s.bounds,n.position)&&l.canCollide(s.collisionFilter,e.collisionFilter))for(var u=s.parts.length>1?1:0;u<s.parts.length;u++){var d=s.parts[u];if(i.contains(d.vertices,n.position)){r.pointA=n.position,r.bodyB=e.body=s,r.pointB={x:n.position.x-s.position.x,y:n.position.y-s.position.y},r.angleB=s.angle,o.set(s,!1),a.trigger(e,"startdrag",{mouse:n,body:s});break}}}else r.bodyB=e.body=null,r.pointB=null,s&&a.trigger(e,"enddrag",{mouse:n,body:s})},r._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&a.trigger(e,"mousemove",{mouse:t}),n.mousedown&&a.trigger(e,"mousedown",{mouse:t}),n.mouseup&&a.trigger(e,"mouseup",{mouse:t}),s.clearSourceEvents(t)}},function(e,t,n){var r={};e.exports=r;var i,o,s,a=n(4),l=n(22),c=n(0);"undefined"!=typeof window&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i||(i=function(e){s=setTimeout((function(){e(c.now())}),1e3/60)},o=function(){clearTimeout(s)}),r.create=function(e){var t=c.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},r.run=function(e,t){return void 0!==e.positionIterations&&(t=e,e=r.create()),function n(o){e.frameRequestId=i(n),o&&e.enabled&&r.tick(e,t,o)}(),e},r.tick=function(e,t,n){var r,i=t.timing,o=1,s={timestamp:i.timestamp};a.trigger(e,"beforeTick",s),a.trigger(t,"beforeTick",s),e.isFixed?r=e.delta:(r=n-e.timePrev||e.delta,e.timePrev=n,e.deltaHistory.push(r),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),o=(r=(r=(r=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:r)>e.deltaMax?e.deltaMax:r)/e.delta,e.delta=r),0!==e.timeScalePrev&&(o*=i.timeScale/e.timeScalePrev),0===i.timeScale&&(o=0),e.timeScalePrev=i.timeScale,e.correction=o,e.frameCounter+=1,n-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3),e.counterTimestamp=n,e.frameCounter=0),a.trigger(e,"tick",s),a.trigger(t,"tick",s),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),a.trigger(e,"beforeUpdate",s),l.update(t,r,o),a.trigger(e,"afterUpdate",s),t.render&&t.render.controller&&(a.trigger(e,"beforeRender",s),a.trigger(t,"beforeRender",s),t.render.controller.world(t.render),a.trigger(e,"afterRender",s),a.trigger(t,"afterRender",s)),a.trigger(e,"afterTick",s),a.trigger(t,"afterTick",s)},r.stop=function(e){o(e.frameRequestId)},r.start=function(e,t){r.run(e,t)}},function(e,t,n){var r={};e.exports=r;var i=n(5),o=n(8),s=n(0),a=n(6),l=n(16);r.stack=function(e,t,n,r,o,s,l){for(var c,u=i.create({label:"Stack"}),d=e,p=t,f=0,h=0;h<r;h++){for(var g=0,m=0;m<n;m++){var v=l(d,p,m,h,c,f);if(v){var y=v.bounds.max.y-v.bounds.min.y,x=v.bounds.max.x-v.bounds.min.x;y>g&&(g=y),a.translate(v,{x:.5*x,y:.5*y}),d=v.bounds.max.x+o,i.addBody(u,v),c=v,f+=1}else d+=o}p+=g+s,d=e}return u},r.chain=function(e,t,n,r,a,l){for(var c=e.bodies,u=1;u<c.length;u++){var d=c[u-1],p=c[u],f=d.bounds.max.y-d.bounds.min.y,h=d.bounds.max.x-d.bounds.min.x,g=p.bounds.max.y-p.bounds.min.y,m={bodyA:d,pointA:{x:h*t,y:f*n},bodyB:p,pointB:{x:(p.bounds.max.x-p.bounds.min.x)*r,y:g*a}},v=s.extend(m,l);i.addConstraint(e,o.create(v))}return e.label+=" Chain",e},r.mesh=function(e,t,n,r,a){var l,c,u,d,p,f=e.bodies;for(l=0;l<n;l++){for(c=1;c<t;c++)u=f[c-1+l*t],d=f[c+l*t],i.addConstraint(e,o.create(s.extend({bodyA:u,bodyB:d},a)));if(l>0)for(c=0;c<t;c++)u=f[c+(l-1)*t],d=f[c+l*t],i.addConstraint(e,o.create(s.extend({bodyA:u,bodyB:d},a))),r&&c>0&&(p=f[c-1+(l-1)*t],i.addConstraint(e,o.create(s.extend({bodyA:p,bodyB:d},a)))),r&&c<t-1&&(p=f[c+1+(l-1)*t],i.addConstraint(e,o.create(s.extend({bodyA:p,bodyB:d},a))))}return e.label+=" Mesh",e},r.pyramid=function(e,t,n,i,o,s,l){return r.stack(e,t,n,i,o,s,(function(t,r,s,c,u,d){var p=Math.min(i,Math.ceil(n/2)),f=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>p||s<(c=p-c)||s>n-1-c))return 1===d&&a.translate(u,{x:(s+(n%2==1?1:-1))*f,y:0}),l(e+(u?s*f:0)+s*o,r,s,c,u,d)}))},r.newtonsCradle=function(e,t,n,r,s){for(var a=i.create({label:"Newtons Cradle"}),c=0;c<n;c++){var u=l.circle(e+c*(1.9*r),t+s,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=o.create({pointA:{x:e+c*(1.9*r),y:t},bodyB:u});i.addBody(a,u),i.addConstraint(a,d)}return a},r.car=function(e,t,n,r,s){var c=a.nextGroup(!0),u=.5*-n+20,d=.5*n-20,p=i.create({label:"Car"}),f=l.rectangle(e,t,n,r,{collisionFilter:{group:c},chamfer:{radius:.5*r},density:2e-4}),h=l.circle(e+u,t+0,s,{collisionFilter:{group:c},friction:.8}),g=l.circle(e+d,t+0,s,{collisionFilter:{group:c},friction:.8}),m=o.create({bodyB:f,pointB:{x:u,y:0},bodyA:h,stiffness:1,length:0}),v=o.create({bodyB:f,pointB:{x:d,y:0},bodyA:g,stiffness:1,length:0});return i.addBody(p,f),i.addBody(p,h),i.addBody(p,g),i.addConstraint(p,m),i.addConstraint(p,v),p},r.softBody=function(e,t,n,i,o,a,c,u,d,p){d=s.extend({inertia:1/0},d),p=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var f=r.stack(e,t,n,i,o,a,(function(e,t){return l.circle(e,t,u,d)}));return r.mesh(f,n,i,c,p),f.label="Soft Body",f}},function(e,t,n){var r={};e.exports=r,n(1);var i=n(0);r.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,o,s,a,l,c,u,d,p,f,h,g=[],m=0,v=0,y=0;t=t||15;var x=function(e,t,n){var r=n%2==1&&n>1;if(!p||e!=p.x||t!=p.y){p&&r?(f=p.x,h=p.y):(f=0,h=0);var i={x:f+e,y:h+t};!r&&p||(p=i),g.push(i),v=f+e,y=h+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":v=e.x,y=e.y;break;case"H":v=e.x;break;case"V":y=e.y}x(v,y,e.pathSegType)}};for(r._svgPathToAbsolute(e),s=e.getTotalLength(),c=[],n=0;n<e.pathSegList.numberOfItems;n+=1)c.push(e.pathSegList.getItem(n));for(u=c.concat();m<s;){if((l=c[e.getPathSegAtLength(m)])!=d){for(;u.length&&u[0]!=l;)b(u.shift());d=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=e.getPointAtLength(m),x(a.x,a.y,0)}m+=t}for(n=0,o=u.length;n<o;++n)b(u[n]);return g},r._svgPathToAbsolute=function(e){for(var t,n,r,i,o,s,a=e.pathSegList,l=0,c=0,u=a.numberOfItems,d=0;d<u;++d){var p=a.getItem(d),f=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(r=l+p.x1),"x2"in p&&(o=l+p.x2),"y1"in p&&(i=c+p.y1),"y2"in p&&(s=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),f){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(l,c),d);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(l,c),d);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),d);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),d);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,r,i,o,s),d);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,o,s),d);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,r,i),d);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),d);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),d);break;case"z":case"Z":l=t,c=n}"M"!=f&&"m"!=f||(t=l,n=c)}}},function(e,t,n){var r={};e.exports=r;var i=n(1),o=n(5),s=n(0),a=n(4),l=n(2);!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(s.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(e){s.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:r,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=s.extend(t,e),i=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:i,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},a.on(n.engine,"beforeUpdate",(function(){r.clear(n)})),n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),s.isElement(n.element)?n.element.appendChild(n.canvas):s.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},r.run=function(t){!function n(i){t.frameRequestId=e(n),r.world(t)}()},r.stop=function(e){t(e.frameRequestId)},r.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var r=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=r,r&&t.addChildAt(r,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},r.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),r=e.sprites["bg-0"];if(n){var i=s.colorToNumber(t);e.renderer.backgroundColor=i,r&&e.container.removeChild(r)}else if(!r){var o=u(e,t);(r=e.sprites["bg-0"]=new PIXI.Sprite(o)).position.x=0,r.position.y=0,e.container.addChildAt(r,0)}e.currentBackground=t}},r.world=function(e){var t,n=e.engine.world,s=e.renderer,a=e.container,c=e.options,u=o.allBodies(n),d=o.allConstraints(n),p=[];c.wireframes?r.setBackground(e,c.wireframeBackground):r.setBackground(e,c.background);var f=e.bounds.max.x-e.bounds.min.x,h=e.bounds.max.y-e.bounds.min.y,g=f/e.options.width,m=h/e.options.height;if(c.hasBounds){for(t=0;t<u.length;t++){var v=u[t];v.render.sprite.visible=i.overlaps(v.bounds,e.bounds)}for(t=0;t<d.length;t++){var y=d[t],x=y.bodyA,b=y.bodyB,w=y.pointA,S=y.pointB;x&&(w=l.add(x.position,y.pointA)),b&&(S=l.add(b.position,y.pointB)),w&&S&&(i.contains(e.bounds,w)||i.contains(e.bounds,S))&&p.push(y)}a.scale.set(1/g,1/m),a.position.set(-e.bounds.min.x*(1/g),-e.bounds.min.y*(1/m))}else p=d;for(t=0;t<u.length;t++)r.body(e,u[t]);for(t=0;t<p.length;t++)r.constraint(e,p[t]);s.render(a)},r.constraint=function(e,t){e.engine;var n=t.bodyA,r=t.bodyB,i=t.pointA,o=t.pointB,a=e.container,l=t.render,c="c-"+t.id,u=e.primitives[c];u||(u=e.primitives[c]=new PIXI.Graphics),l.visible&&t.pointA&&t.pointB?(-1===s.indexOf(a.children,u)&&a.addChild(u),u.clear(),u.beginFill(0,0),u.lineStyle(l.lineWidth,s.colorToNumber(l.strokeStyle),1),n?u.moveTo(n.position.x+i.x,n.position.y+i.y):u.moveTo(i.x,i.y),r?u.lineTo(r.position.x+o.x,r.position.y+o.y):u.lineTo(o.x,o.y),u.endFill()):u.clear()},r.body=function(e,t){e.engine;var r=t.render;if(r.visible)if(r.sprite&&r.sprite.texture){var i="b-"+t.id,o=e.sprites[i],a=e.spriteContainer;o||(o=e.sprites[i]=n(e,t)),-1===s.indexOf(a.children,o)&&a.addChild(o),o.position.x=t.position.x,o.position.y=t.position.y,o.rotation=t.angle,o.scale.x=r.sprite.xScale||1,o.scale.y=r.sprite.yScale||1}else{var l="b-"+t.id,u=e.primitives[l],d=e.container;u||((u=e.primitives[l]=c(e,t)).initialAngle=t.angle),-1===s.indexOf(d.children,u)&&d.addChild(u),u.position.x=t.position.x,u.position.y=t.position.y,u.rotation=t.angle-u.initialAngle}};var n=function(e,t){var n=t.render.sprite.texture,r=u(e,n),i=new PIXI.Sprite(r);return i.anchor.x=t.render.sprite.xOffset,i.anchor.y=t.render.sprite.yOffset,i},c=function(e,t){var n,r=t.render,i=e.options,o=new PIXI.Graphics,a=s.colorToNumber(r.fillStyle),l=s.colorToNumber(r.strokeStyle),c=s.colorToNumber(r.strokeStyle),u=s.colorToNumber("#bbb"),d=s.colorToNumber("#CD5C5C");o.clear();for(var p=t.parts.length>1?1:0;p<t.parts.length;p++){n=t.parts[p],i.wireframes?(o.beginFill(0,0),o.lineStyle(1,u,1)):(o.beginFill(a,1),o.lineStyle(r.lineWidth,l,1)),o.moveTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y);for(var f=1;f<n.vertices.length;f++)o.lineTo(n.vertices[f].x-t.position.x,n.vertices[f].y-t.position.y);o.lineTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y),o.endFill(),(i.showAngleIndicator||i.showAxes)&&(o.beginFill(0,0),i.wireframes?o.lineStyle(1,d,1):o.lineStyle(1,c),o.moveTo(n.position.x-t.position.x,n.position.y-t.position.y),o.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-t.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-t.position.y),o.endFill())}return o},u=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}()}])},e.exports=n(function(){try{return gn}catch(e){}}())})));const{window:Fn}=ye;function Vn(t){let n,r,i;return{c(){n=P("canvas")},m(e,o){C(e,n,o),t[4](n),r||(i=I(Fn,"resize",t[1]),r=!0)},p:e,i:e,o:e,d(e){e&&A(n),t[4](null),r=!1,i()}}}function Dn(e,t,n){const{Body:r,Bodies:i,Composites:o,Common:s,Engine:a,Events:l,Mouse:c,MouseConstraint:u,Query:d,Render:p,Runner:f,Vector:h,World:g}=Un;let m,v,y,x,b,w,S,$,{button:C}=t,A=0,_=0,P={};const k=[CSSUtility.getVariable("--colour-text-primary"),CSSUtility.getVariable("--colour-background-primary"),CSSUtility.getVariable("--colour-text-secondary"),CSSUtility.getVariable("--colour-background-secondary")];function O(e){e.clientX-document.documentElement.clientWidth>5||e.clientY-document.documentElement.clientHeight>5||e.target instanceof HTMLCanvasElement&&x.mouseup(e)}function M(e,t){const{Common:n,Bodies:r}=Un;let i=Math.round(n.random(1,8));i=3===i?4:i;const o={radius:10},s={fillStyle:k[Math.floor(Math.random()*k.length)]};switch(Math.round(n.random(0,1))){case 0:return n.random()<.8?r.rectangle(e,t,1.5*n.random(25,50),1.5*n.random(25,50),{chamfer:o,render:s,mass:2}):r.rectangle(e,t,1.5*n.random(25,30),1.5*n.random(25,30),{chamfer:o,render:s,mass:2});case 1:default:return r.polygon(e,t,i,1.5*n.random(25,50),{chamfer:o,render:s})}}function E(){A=WindowUtility.client.height,_=WindowUtility.client.width,n(0,m.height=A,m),n(0,m.width=_,m),null!=P.top&&null!=P.right&&null!=P.bottom&&null!=P.left&&I(P),null!=v&&T(v,A,_)}function I(e){r.scale(e.top,_/e.top.bounds.max.x,1),r.setPosition(e.top,h.create(_/2,50)),r.scale(e.right,1,A/e.right.bounds.max.y),r.setPosition(e.right,h.create(_-50,A/2)),r.scale(e.bottom,_/e.bottom.bounds.max.x,1),r.setPosition(e.bottom,h.create(_/2,A-50)),r.scale(e.left,1,A/e.left.bounds.max.y),r.setPosition(e.left,h.create(50,A/2))}function T(e,t,n){p.lookAt(e,{min:{x:0,y:0},max:{x:n,y:t}})}return z((()=>{document.documentElement.addEventListener("mouseout",O),E();const e=a.create();y=e.world,v=p.create({canvas:m,engine:e,options:{width:_,height:A,background:"transparent",wireframeBackground:"transparent",wireframes:!1}}),p.run(v);const t=f.create();f.run(t,e);const n=o.stack(100,A/3,20,4,0,0,M),k={fillStyle:"transparent",strokeStyle:"transparent"};let B;P={top:i.rectangle(0,0,100,100,{isStatic:!0,render:k}),right:i.rectangle(0,0,100,100,{isStatic:!0,render:k}),bottom:i.rectangle(0,0,100,100,{isStatic:!0,render:k}),left:i.rectangle(0,0,100,100,{isStatic:!0,render:k})},I(P),g.add(y,[n,...Object.values(P)]),window.addEventListener("deviceorientation",(t=>{if(null==t.gamma||null==t.beta)return;const n=null==window.orientation?0:window.orientation,{gravity:r}=e.world;0===n?(r.x=s.clamp(t.gamma,-90,90)/90,r.y=s.clamp(t.beta,-90,90)/90):180===n?(r.x=s.clamp(t.gamma,-90,90)/90,r.y=s.clamp(-t.beta,-90,90)/90):90===n?(r.x=s.clamp(t.beta,-90,90)/90,r.y=s.clamp(-t.gamma,-90,90)/90):-90===n&&(r.x=s.clamp(-t.beta,-90,90)/90,r.y=s.clamp(t.gamma,-90,90)/90)})),x=c.create(v.canvas),b=u.create(e,{mouse:x,constraint:{stiffness:.2,render:{visible:!1}}}),g.add(y,b),v.mouse=x,p.startViewTransform=()=>{},c.setScale=()=>{},c.setOffset=()=>{},T(v,A,_);let R=0;if(Un.Events.on(e,"beforeUpdate",(()=>{R+=.014,R<0||null!=B&&(B.velocity.x>25&&Un.Body.setVelocity(B,{x:25,y:B.velocity.y}),B.velocity.y>25&&Un.Body.setVelocity(B,{x:B.velocity.x,y:25}))})),Un.Events.on(b,"startdrag",(e=>{B=e.body})),null!=C){S=C.getComponentDomContent(),$=getComputedStyle(S);const e=CSSUtility.unparse($.width),t=CSSUtility.unparse($.height);w=i.rectangle(_/2,100,e,t,{chamfer:{radius:Math.min(e,t)/2},render:k,mass:50}),S.style.position="fixed",S.style.top="0px",S.style.zIndex="-1";let n=0;requestAnimationFrame((function e(){Math.floor(w.position.x)<-S.offsetHeight/2||Math.floor(w.position.y)<=-S.offsetHeight/2||Math.floor(w.position.x)>=WindowUtility.inner.width+S.offsetHeight/2||Math.floor(w.position.y)>=WindowUtility.inner.height+S.offsetHeight/2?++n:n=0,n>10&&(x.button=-1,alert("you had one job."),r.setPosition(w,h.create(_/2,A/2)),n=0),function(e,t){e.style.transform=`translate(${t.position.x-e.offsetWidth/2}px, ${t.position.y-e.offsetHeight/2}px) rotate(${t.angle}rad)`}(S,w),requestAnimationFrame(e)}));let o=!1;l.on(b,"mousemove",(e=>{const t=e.source.mouse.absolute.x,n=e.source.mouse.absolute.y;if(o=0!==d.point([w],{x:t,y:n}).length,!o)return document.body.style.cursor="unset",void S.querySelector("button").classList.remove("hover");document.body.style.cursor="pointer",S.querySelector("button").classList.add("hover")}));let s=0,a=0,c=0,u=0;l.on(b,"mousedown",(e=>{s=e.source.mouse.absolute.x,a=e.source.mouse.absolute.y})),l.on(b,"mouseup",(e=>{c=e.source.mouse.absolute.x,u=e.source.mouse.absolute.y,o&&Math.abs(s-c)<2&&Math.abs(a-u)<2&&C?.onClick()})),g.addBody(y,w)}})),H((()=>{document.documentElement.removeEventListener("mouseout",O)})),e.$$set=e=>{"button"in e&&n(2,C=e.button)},[m,E,C,()=>{g.addBody(y,M(_/2,50))},function(e){J[e?"unshift":"push"]((()=>{m=e,n(0,m)}))}]}class Matter_1 extends SvelteComponent{constructor(e){super(),Ae(this,e,Dn,Vn,a,{button:2,addNewBody:3},[-1,-1])}get button(){return this.$$.ctx[2]}set button(e){this.$set({button:e}),se()}get addNewBody(){return this.$$.ctx[3]}}function qn(t){let n,r;const i=t[10].default,o=d(i,t,t[13],null),s=o||function(t){let n;return{c(){n=P("placeholder")},m(e,r){C(e,n,r),t[11](n)},p:e,d(e){e&&A(n),t[11](null)}}}(t);return{c(){n=P("container"),s&&s.c(),R(n,"--svg-colour",t[4]),T(n,"class","svelte-hn8bj7")},m(e,t){C(e,n,t),s&&s.m(n,null),r=!0},p(e,t){o?o.p&&8192&t&&h(o,i,e,e[13],t,null,null):s&&s.p&&32&t&&s.p(e,t),(!r||16&t)&&R(n,"--svg-colour",e[4])},i(e){r||(ge(s,e),r=!0)},o(e){me(s,e),r=!1},d(e){e&&A(n),s&&s.d(e)}}}function zn(e){let t,r,i;const o=[e[7],{height:e[2]},{width:e[3]},{backgroundColour:e[1]},{hoverColour:e[0]},{isText:!1},{padding:"16px 16px"},{roundness:"50px"}];let s={$$slots:{default:[qn]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)s=n(s,o[e]);return r=new Button({props:s}),r.$on("click",e[12]),{c(){t=P("component"),Se(r.$$.fragment),R(t,"--height",CSSUtility.parse(e[2])),R(t,"--width",CSSUtility.parse(e[3]))},m(e,n){C(e,t,n),$e(r,t,null),i=!0},p(e,[n]){const s=143&n?xe(o,[128&n&&be(e[7]),4&n&&{height:e[2]},8&n&&{width:e[3]},2&n&&{backgroundColour:e[1]},1&n&&{hoverColour:e[0]},o[5],o[6],o[7]]):{};8240&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s),(!i||4&n)&&R(t,"--height",CSSUtility.parse(e[2])),(!i||8&n)&&R(t,"--width",CSSUtility.parse(e[3]))},i(e){i||(ge(r.$$.fragment,e),i=!0)},o(e){me(r.$$.fragment,e),i=!1},d(e){e&&A(t),Ce(r)}}}function Hn(e,t,r){const i=["hoverColour","backgroundColour","height","width","svgSrc","svg","svgColour"];let o=m(t,i),{$$slots:s={},$$scope:a}=t;const l=function(e){const t={};for(const n in e)t[n]=!0;return t}(s);let{hoverColour:c="#0000"}=t,{backgroundColour:u="#0000"}=t,{height:d="100%"}=t,{width:p="100%"}=t,{svgSrc:f=""}=t,{svg:h=""}=t,{svgColour:v=u}=t;const y=G();let x;z((async()=>{if(l.default)return;const e=h||f&&await(await fetch(f)).text()||"";r(5,x.outerHTML=e,x)}));return e.$$set=e=>{t=n(n({},t),g(e)),r(7,o=m(t,i)),"hoverColour"in e&&r(0,c=e.hoverColour),"backgroundColour"in e&&r(1,u=e.backgroundColour),"height"in e&&r(2,d=e.height),"width"in e&&r(3,p=e.width),"svgSrc"in e&&r(8,f=e.svgSrc),"svg"in e&&r(9,h=e.svg),"svgColour"in e&&r(4,v=e.svgColour),"$$scope"in e&&r(13,a=e.$$scope)},[c,u,d,p,v,x,y,o,f,h,s,function(e){J[e?"unshift":"push"]((()=>{x=e,r(5,x)}))},()=>{y("click")},a]}class SvgButton extends SvelteComponent{constructor(e){super(),Ae(this,e,Hn,zn,a,{hoverColour:0,backgroundColour:1,height:2,width:3,svgSrc:8,svg:9,svgColour:4})}get hoverColour(){return this.$$.ctx[0]}set hoverColour(e){this.$set({hoverColour:e}),se()}get backgroundColour(){return this.$$.ctx[1]}set backgroundColour(e){this.$set({backgroundColour:e}),se()}get height(){return this.$$.ctx[2]}set height(e){this.$set({height:e}),se()}get width(){return this.$$.ctx[3]}set width(e){this.$set({width:e}),se()}get svgSrc(){return this.$$.ctx[8]}set svgSrc(e){this.$set({svgSrc:e}),se()}get svg(){return this.$$.ctx[9]}set svg(e){this.$set({svg:e}),se()}get svgColour(){return this.$$.ctx[4]}set svgColour(e){this.$set({svgColour:e}),se()}}function Gn(e){let t,n,r;return n=new SvgButton({props:{height:"56px",width:"56px",svg:'\r\n\t\t<svg version="1.1" id="xx" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t\t\tviewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">\r\n\t\t\t<path style="fill:'+CSSUtility.getVariable(e[0])+';" d="M14.2,20l5.8,5.8L35.8,10H40v4.2L34.2,20l5.8,5.8V30h-4.2L30,24.2L24.4,30h-8.6L10,24.2L4.2,30H0v-4.2\r\n\t\t\t\tc0,0,5.9-5.8,5.9-5.8l-5.8-5.8V10h4.2l5.8,5.8l5.8-5.8h8.3l2.5,2.5l-4.2,4.2L20,14.2L14.2,20z"/>\r\n\t\t</svg>\r\n\t\t'}}),n.$on("click",e[2]),{c(){t=P("component"),Se(n.$$.fragment),T(t,"class","svelte-1bkdi23")},m(e,i){C(e,t,i),$e(n,t,null),r=!0},p(e,[t]){const r={};1&t&&(r.svg='\r\n\t\t<svg version="1.1" id="xx" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t\t\tviewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve">\r\n\t\t\t<path style="fill:'+CSSUtility.getVariable(e[0])+';" d="M14.2,20l5.8,5.8L35.8,10H40v4.2L34.2,20l5.8,5.8V30h-4.2L30,24.2L24.4,30h-8.6L10,24.2L4.2,30H0v-4.2\r\n\t\t\t\tc0,0,5.9-5.8,5.9-5.8l-5.8-5.8V10h4.2l5.8,5.8l5.8-5.8h8.3l2.5,2.5l-4.2,4.2L20,14.2L14.2,20z"/>\r\n\t\t</svg>\r\n\t\t'),n.$set(r)},i(e){r||(ge(n.$$.fragment,e),r=!0)},o(e){me(n.$$.fragment,e),r=!1},d(e){e&&A(t),Ce(n)}}}function Xn(e,t,n){let{colour:r="--colour-accent-primary"}=t;const i=G();return e.$$set=e=>{"colour"in e&&n(0,r=e.colour)},[r,i,()=>{i("click"),"/"!==window.location.pathname&&Te("/"),window.scrollTo({top:0,left:0,behavior:"smooth"})}]}class Logo extends SvelteComponent{constructor(e){super(),Ae(this,e,Xn,Gn,a,{colour:0})}get colour(){return this.$$.ctx[0]}set colour(e){this.$set({colour:e}),se()}}var Yn=new Promise((e=>{window.onYouTubePlayerAPIReady=e;const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}));function Qn(t){let n,r,i,o;return{c(){n=P("component"),r=P("placeholder"),T(r,"class","iframe svelte-17dqslp"),T(n,"class","svelte-17dqslp"),L(n,"inactive",!t[2])},m(e,s){C(e,n,s),$(n,r),t[5](r),t[6](n),i||(o=I(window,"resize",t[3]),i=!0)},p(e,[t]){4&t&&L(n,"inactive",!e[2])},i:e,o:e,d(e){e&&A(n),t[5](null),t[6](null),i=!1,o()}}}function Jn(e,t,n){let r,i,o,{playlistUrl:s}=t,a=!1,l=0;function c(e){switch(e.data){case YT.PlayerState.PLAYING:n(2,a=!0),o||(o=e.target.getPlaylist());break;case YT.PlayerState.ENDED:n(2,a=!1),e.target.playVideoAt(++l%(o.length??0))}}function u(){i&&(WindowUtility.inner.width>16*WindowUtility.inner.height/9?(n(1,i.style.width=`${WindowUtility.inner.width}px`,i),n(1,i.style.height=9*WindowUtility.inner.width/16+"px",i),n(1,i.style.left="0",i),n(1,i.style.top=`-${(9*WindowUtility.inner.width/16-WindowUtility.inner.height)/2}px`,i)):(n(1,i.style.width=16*WindowUtility.inner.height/9+"px",i),n(1,i.style.height=`${WindowUtility.inner.height}px`,i),n(1,i.style.left=`-${(16*WindowUtility.inner.height/9-WindowUtility.inner.width)/2}px`,i),n(1,i.style.top="0",i)))}return z((async()=>{await Yn,await new Promise((e=>{new YT.Player(r,{events:{onReady(t){!function(e){const{target:t}=e;t.loadPlaylist({list:s,listType:"playlist"}),t.mute()}(t),e()},onStateChange:c},playerVars:{loop:1,autoplay:1,autohide:1,modestbranding:1,rel:0,showinfo:0,controls:0,disablekb:1,enablejsapi:1}})})),u()})),e.$$set=e=>{"playlistUrl"in e&&n(4,s=e.playlistUrl)},[r,i,a,u,s,function(e){J[e?"unshift":"push"]((()=>{r=e,n(0,r)}))},function(e){J[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class Youtube extends SvelteComponent{constructor(e){super(),Ae(this,e,Jn,Qn,a,{playlistUrl:4})}get playlistUrl(){return this.$$.ctx[4]}set playlistUrl(e){this.$set({playlistUrl:e}),se()}}function Zn(e){let t,n,r={button:e[7]};return t=new Matter_1({props:r}),e[11](t),{c(){Se(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.button=e[7]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(n){e[11](null),Ce(t,n)}}}function Kn(e){let t,n,r={icon:e[1],$$slots:{default:[er]},$$scope:{ctx:e}};return t=new Button({props:r}),e[12](t),t.$on("click",e[13]),{c(){Se(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.icon=e[1]),32772&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(n){e[12](null),Ce(t,n)}}}function er(e){let t;return{c(){t=O(e[2])},m(e,n){C(e,t,n)},p(e,n){4&n&&B(t,e[2])},d(e){e&&A(t)}}}function tr(e){let t,n,r,i,o,s,a,l,c,u,d,p,f,h,g,m,v,y,x=e[7]&&Zn(e),b=e[0]&&Kn(e);return i=new Toast({props:{toastsW:e[10]}}),l=new Logo({}),l.$on("click",e[14]),v=new Youtube({props:{playlistUrl:"PLVxe6MjYOfpzmX8qxSt4Qxx0yurA1CP0z"}}),{c(){t=P("component"),x&&x.c(),n=M(),b&&b.c(),r=M(),Se(i.$$.fragment),o=M(),s=P("container"),a=P("container"),Se(l.$$.fragment),c=M(),u=P("container"),d=P("heading"),p=O(e[5]),f=M(),h=P("string"),g=O(e[6]),m=M(),Se(v.$$.fragment),T(a,"class","logo svelte-1f8elr3"),T(d,"class","svelte-1f8elr3"),T(h,"class","svelte-1f8elr3"),T(u,"class","text svelte-1f8elr3"),T(s,"class","all svelte-1f8elr3"),T(t,"class","svelte-1f8elr3")},m(e,w){C(e,t,w),x&&x.m(t,null),$(t,n),b&&b.m(t,null),$(t,r),$e(i,t,null),$(t,o),$(t,s),$(s,a),$e(l,a,null),$(s,c),$(s,u),$(u,d),$(d,p),$(u,f),$(u,h),$(h,g),$(t,m),$e(v,t,null),y=!0},p(e,[i]){e[7]?x?(x.p(e,i),128&i&&ge(x,1)):(x=Zn(e),x.c(),ge(x,1),x.m(t,n)):x&&(fe(),me(x,1,1,(()=>{x=null})),he()),e[0]?b?(b.p(e,i),1&i&&ge(b,1)):(b=Kn(e),b.c(),ge(b,1),b.m(t,r)):b&&(fe(),me(b,1,1,(()=>{b=null})),he()),(!y||32&i)&&B(p,e[5]),(!y||64&i)&&B(g,e[6])},i(e){y||(ge(x),ge(b),ge(i.$$.fragment,e),ge(l.$$.fragment,e),ge(v.$$.fragment,e),y=!0)},o(e){me(x),me(b),me(i.$$.fragment,e),me(l.$$.fragment,e),me(v.$$.fragment,e),y=!1},d(e){e&&A(t),x&&x.d(),b&&b.d(),Ce(i),Ce(l),Ce(v)}}}function nr(e,t,n){let r;const i=Pe([]);let o,s;u(e,i,(e=>n(9,r=e)));let{isButtonActive:a=!0}=t,{buttonIcon:l="done"}=t,{buttonText:c="buy ident"}=t,{toastText:d="thanks! redirecting to paypal..."}=t,{buttonURL:p="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=N38QJE62JSAJY"}=t,{heading:f=""}=t,{string:h=""}=t;return e.$$set=e=>{"isButtonActive"in e&&n(0,a=e.isButtonActive),"buttonIcon"in e&&n(1,l=e.buttonIcon),"buttonText"in e&&n(2,c=e.buttonText),"toastText"in e&&n(3,d=e.toastText),"buttonURL"in e&&n(4,p=e.buttonURL),"heading"in e&&n(5,f=e.heading),"string"in e&&n(6,h=e.string)},[a,l,c,d,p,f,h,o,s,r,i,function(e){J[e?"unshift":"push"]((()=>{s=e,n(8,s)}))},function(e){J[e?"unshift":"push"]((()=>{o=e,n(7,o)}))},()=>{r.push(ToastItem.from({text:d})),i.set(r),Te(p)},()=>{s.addNewBody()}]}class Home extends SvelteComponent{constructor(e){super(),Ae(this,e,nr,tr,a,{isButtonActive:0,buttonIcon:1,buttonText:2,toastText:3,buttonURL:4,heading:5,string:6})}get isButtonActive(){return this.$$.ctx[0]}set isButtonActive(e){this.$set({isButtonActive:e}),se()}get buttonIcon(){return this.$$.ctx[1]}set buttonIcon(e){this.$set({buttonIcon:e}),se()}get buttonText(){return this.$$.ctx[2]}set buttonText(e){this.$set({buttonText:e}),se()}get toastText(){return this.$$.ctx[3]}set toastText(e){this.$set({toastText:e}),se()}get buttonURL(){return this.$$.ctx[4]}set buttonURL(e){this.$set({buttonURL:e}),se()}get heading(){return this.$$.ctx[5]}set heading(e){this.$set({heading:e}),se()}get string(){return this.$$.ctx[6]}set string(e){this.$set({string:e}),se()}}function rr(t){let n,r;return n=new Home({props:{buttonText:"try again",buttonIcon:"arrow_forward",toastText:"get ready! i believe in you...",heading:"huh?",string:"you're back empty handed..."}}),{c(){Se(n.$$.fragment)},m(e,t){$e(n,e,t),r=!0},p:e,i(e){r||(ge(n.$$.fragment,e),r=!0)},o(e){me(n.$$.fragment,e),r=!1},d(e){Ce(n,e)}}}class Failure extends SvelteComponent{constructor(e){super(),Ae(this,e,null,rr,a,{})}}function ir(t){let n,r;return n=new Home({props:{buttonText:"dm on twitter",buttonIcon:"arrow_forward",toastText:"buckle up! redirecting to twitter...",buttonURL:"https://twitter.com/direct_messages/create/_sxxov",heading:"thanks!",string:"(discord) Sxxov#3734; (twitter) @_sxxov"}}),{c(){Se(n.$$.fragment)},m(e,t){$e(n,e,t),r=!0},p:e,i(e){r||(ge(n.$$.fragment,e),r=!0)},o(e){me(n.$$.fragment,e),r=!1},d(e){Ce(n,e)}}}class Success extends SvelteComponent{constructor(e){super(),Ae(this,e,null,ir,a,{})}}function or(t){let n,r,i,o,s,a;return n=new Route({props:{path:"/",component:Home}}),i=new Route({props:{path:"/success",component:Success}}),s=new Route({props:{path:"/failure",component:Failure}}),{c(){Se(n.$$.fragment),r=M(),Se(i.$$.fragment),o=M(),Se(s.$$.fragment)},m(e,t){$e(n,e,t),C(e,r,t),$e(i,e,t),C(e,o,t),$e(s,e,t),a=!0},p:e,i(e){a||(ge(n.$$.fragment,e),ge(i.$$.fragment,e),ge(s.$$.fragment,e),a=!0)},o(e){me(n.$$.fragment,e),me(i.$$.fragment,e),me(s.$$.fragment,e),a=!1},d(e){Ce(n,e),e&&A(r),Ce(i,e),e&&A(o),Ce(s,e)}}}function sr(e){let t,n,r;return n=new Router({props:{$$slots:{default:[or]},$$scope:{ctx:e}}}),{c(){t=P("main"),Se(n.$$.fragment),T(t,"class","svelte-6h06oz")},m(e,i){C(e,t,i),$e(n,t,null),r=!0},p(e,[t]){const r={};1&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(ge(n.$$.fragment,e),r=!0)},o(e){me(n.$$.fragment,e),r=!1},d(e){e&&A(t),Ce(n)}}}document.documentElement.classList.add("theme:dark");const ar=new class App extends SvelteComponent{constructor(e){super(),Ae(this,e,null,sr,a,{})}}({target:document.body});import.meta.hot&&(import.meta.hot.accept(),import.meta.hot.dispose((()=>{ar.$destroy()})));export default ar;
